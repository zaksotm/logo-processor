{"version":3,"sources":["test2.jpg","index.js"],"names":["module","exports","jimp","require","colors","black","onyx","charcoal","concrete","quicksilver","bleach","rich_brown","mushroom","sand","natural","navy","ultramarine","lagoon","cerulean","cornflower","cyan","peacock","aruba","lake","seafoam","reef","teal","pine","kelly","jade","turf","lime","goldenrod","yellow","sunflower","carmel","clementine","living_coral","persimmon","red_orange","red","burnt_orange","rust","maroon","deep_pink","hibiscus","blush","peach","lavender","iris","purple","royal_purple","moose","violet","green_apple","carrot","lapis","parrot","french_blue","colorsFreq","Array","colorsArray","i","length","Object","values","nearestColor","from","src","DisplayLogoImg","className","width","this","props","output","alt","React","Component","Linkform","type","onChange","ScaleForm","onChangeX","onChangeY","ProcessButton","onClick","imagesLoaded","SubmitButton","DownloadButton","ConvertButton","Editor","handleProcessButtonClick","jimpLogoCreation","state","scaleX","scaleY","handleConvertButtonClick","console","log","handleSubmitButtonClick","setState","dropboxLink","handleDownloadButtonClick","handleLinkChange","target","value","slice","picture","myRef","createRef","onDrop","bind","jimpScale","jimpResize","jimpTest","onScaleFormChangeX","onScaleFormChangeY","prevProps","prevState","URL","createObjectURL","event","parseInt","withIcon","buttonText","label","fileContainerStyle","backgroundColor","singleImage","imgExtension","maxFileSize","path","x","y","read","err","image","getBase64","Jimp","AUTO","data","replace","posBool","pos","scale","grayscale","numColors","localColors","undefined","resize","posterize","greyscale","getNewColor","scan","bitmap","height","idx","redHex","toString","padStart","greenHex","blueHex","close","closeRed","substr","closeGreen","closeBlue","sort","a","b","MIME_BMP","bmpPicture","local","renderLogoImage","renderLinkForm","renderSubmitButton","renderImageUploader","renderScaleForm","renderProcessButton","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.90625ea7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/test2.8b1bda72.jpg\";","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.css';\n//import './style/_buttons.scss';\nimport ImageUploader from 'react-images-upload';\nimport Jimp from 'jimp/es';\n\nvar jimp = require('jimp');\n\n\n//Three global color data structures, one a map of objects, one an array,\n//and one a 2D array\n//TODO: Downscale to remove map of objects, unneeded\nvar colors = {\n  black: '#000000',\n  onyx: '#333538',\n  charcoal: '#5f6468',\n  concrete: '#97a0a7',\n  quicksilver: '#e4e5e6',\n  bleach: '#ffffff',\n  rich_brown: '#372820',\n  mushroom: '#716257',\n  sand: '#bab3a0',\n  natural: '#f9f4ec',\n  navy: '#081e2c',\n  ultramarine: '#29217d',\n  lagoon: '#003e66',\n  cerulean: '#0169ca',\n  cornflower: '#529afc',\n  cyan: '#009ff1',\n  peacock: '#01aec9',\n  aruba: '#9dfbe7',\n  lake: '#6ac4dd',\n  seafoam: '#4ca696',\n  reef: '#00947d',\n  teal: '#007171',\n  pine: '#2b4423',\n  kelly: '#21772f',\n  jade: '#14b25a',\n  turf: '#60933b',\n  lime: '#a0ce3e',\n  goldenrod: '#d5d03a',\n  yellow: '#fff71b',\n  sunflower: '#ffc938',\n  carmel: '#d8a15e',\n  clementine: '#ff9a23',\n  living_coral: '#fb686d',\n  persimmon: '#fd5130',\n  red_orange: '#db1d3c',\n  red: '#c50f2d',\n  burnt_orange: '#a84c28',\n  rust: '#763742',\n  maroon: '#581c32',\n  deep_pink: '#c40876',\n  hibiscus: '#de4b9b',\n  blush: '#fdaeca',\n  peach: '#f7bfab',\n  lavender: '#a08dd6',\n  iris: '#77479f',\n  purple: '#5d1e5c',\n  royal_purple: '#401e72',\n  moose: '#653c2c',\n  violet: '#6753b2',\n  green_apple: '#76c727',\n  carrot: '#fd673e',\n  lapis: '#3c2f8f',\n  parrot: '#2fd078',\n  french_blue: '#638ee4',\n};\n\n//TODO: Move initialization of arrays to seperate function\nvar colorsFreq = new Array(54);\nvar colorsArray = new Array(54);\n\n//Initialize colorsArray\n//load only hex values of colors into an array\nfor (var i = 0; i < colorsArray.length; i++){\n  colorsArray[i] = Object.values(colors)[i];\n}\n\n//make colorsFreq into a 2D array\nfor (var i = 0; i < colorsFreq.length; i++){\n  colorsFreq[i] = new Array(2);\n}\n\n//Initialize colorsFreq\n//copy array into new 2d array, starting with 0 for all frequencies\nfor (var i = 0; i < colorsFreq.length; i++){\n  colorsFreq[i][0] = colorsArray[i];\n  colorsFreq[i][1] = 0;\n}\n\nvar nearestColor = require('nearest-color').from(colors);\n\n//initialize the default image\nconst src = require(\"./test2.jpg\");\n//janky way around CORS policy for getting from dropbox link, pass through cors-anywhere server\n//var dropboxURL = \"0\"\n//var imgFinal = (\"https://cors-anywhere.herokuapp.com/\" + dropboxURL.slice(0, -1) + \"1\");\n\n//-------------------------------------------------------------\n//Main classes for displaying the output image array\n//-------------------------------------------------------------\nclass DisplayLogoImg extends React.Component{\n  render(){\n    return(\n      <div className=\"workDisplay\">\n        <div width=\"300\">\n        Source\n          <img className=\"workImage\" src={this.props.output[0]} alt=\"Source\" />\n        </div>\n        <div>\n        Scale : Color Correction\n          <img className=\"workImage\" src={this.props.output[1]} alt=\"Result #1\" />\n        </div>\n        <div>\n        Scale : Greyscale : Color Correction\n          <img className=\"workImage\" src={this.props.output[2]} alt=\"Result #2\" />\n        </div>\n        <div>\n        Scale : Posterize : Color Correction\n          <img className=\"workImage\" src={this.props.output[3]} alt=\"Result #3\" />\n          <img className=\"workImage\" src={this.props.output[4]} alt=\"Result #4\" />\n          <img className=\"workImage\" src={this.props.output[5]} alt=\"Result #5\" />\n          <img className=\"workImage\" src={this.props.output[6]} alt=\"Result #6\" />\n        </div>\n        <div>\n        Scale : Color Correction (Reduction)\n          <img className=\"workImage\" src={this.props.output[7]} alt=\"Result #7\" />\n          <img className=\"workImage\" src={this.props.output[8]} alt=\"Result #8\" />\n          <img className=\"workImage\" src={this.props.output[9]} alt=\"Result #9\" />\n          <img className=\"workImage\" src={this.props.output[10]} alt=\"Result #10\" />\n        </div>\n        <div>\n        Scale : Posterize : Color Correction (Reduction)\n          <img className=\"workImage\" src={this.props.output[11]} alt=\"Result #11\" />\n          <img className=\"workImage\" src={this.props.output[12]} alt=\"Result #12\" />\n          <img className=\"workImage\" src={this.props.output[13]} alt=\"Result #13\" />\n          <img className=\"workImage\" src={this.props.output[14]} alt=\"Result #14\" />\n        </div>\n      </div>\n    )\n  }\n}\n\n//-------------------------------------------------------------\n//Custom classes for each button, passes state up\n//TODO:   Merge all of one type into a single class? [buttons, forms, etc]\n//        Transfer classes into seperate file and import it\n//-------------------------------------------------------------\n\nclass Linkform extends React.Component {\n  render() {\n    return (\n      <form>\n        <label>\n          Dropbox Link:\n          <input type=\"text\" onChange={this.props.onChange}/>\n        </label>\n      </form>\n    );\n  }\n}\n\nclass ScaleForm extends React.Component{\n  render(){\n    return(\n      <form>\n        <label>\n          Resize X:\n          <input type=\"number\" onChange={this.props.onChangeX} />\n        </label>\n        <label>\n          Resize Y:\n          <input type=\"number\" onChange={this.props.onChangeY} />\n        </label>\n      </form>\n    )\n  }\n}\n\n//TODO: Change hardcoded max images to variable\nclass ProcessButton extends React.Component{\n  render(){\n    return(\n      <div>\n        <button onClick={() => this.props.onClick()}>Process Logo</button>\n        Loading {this.props.imagesLoaded}/15 images\n      </div>\n    )\n  }\n}\n\nclass SubmitButton extends React.Component{\n  render(){\n    return(\n      <button onClick={() => this.props.onClick()}>Submit Link</button>\n    )\n  }\n}\n\nclass DownloadButton extends React.Component{\n  render(){\n    return(\n      <button onClick={() => this.props.onClick()}>Download BMP</button>\n    )\n  }\n}\n\nclass ConvertButton extends React.Component{\n  render(){\n    return(\n      <button onClick={() => this.props.onClick()}>Debug v2</button>\n    )\n  }\n}\n\n//-------------------------------------------------------------\n//Main editor app class, contains most info in state\n//-------------------------------------------------------------\nclass Editor extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      //value that holds the path to default image, then the base64 data of render\n      //base64 used by Jimp, since it is a web-based app. Local files caused issues.\n      picture: src,\n      //Array of output pictures\n      output: [],\n      dropboxLink: \"\",\n      scaleX: 150,\n      scaleY: 150,\n      imagesLoaded: 0,\n    };\n    this.myRef = React.createRef();\n    //TODO: Bind these functions in their declaration, similar to handleX functions\n    this.onDrop = this.onDrop.bind(this);\n    this.jimpScale = this.jimpScale.bind(this);\n    this.jimpResize = this.jimpResize.bind(this);\n    this.jimpTest = this.jimpTest.bind(this);\n    this.onScaleFormChangeX = this.onScaleFormChangeX.bind(this);\n    this.onScaleFormChangeY = this.onScaleFormChangeY.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if (prevState.output !== this.state.output){\n      //console.log(\"output state has changed: \" + this.state.output);\n    }\n  }\n\n  //-------------------------------------------------------------\n  //Functions to handle events when different buttons are clicked\n  //or values are changed\n  //-------------------------------------------------------------\n  handleProcessButtonClick = (i) => {\n      //Format: posterize[bool], posterize value, scale[bool], scaleX, scaleY, greyscale[bool], numColors\n      //TODO: format better, into a function or something\n      //Scale : Color Correction\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY);\n      //Scale : Greyscale : Color Correction\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, true);\n      //Scale : Posterize : Color Correction\n      this.jimpLogoCreation(this.state.output[0], true, 7, true, this.state.scaleX, this.state.scaleY);\n      this.jimpLogoCreation(this.state.output[0], true, 5, true, this.state.scaleX, this.state.scaleY);\n      this.jimpLogoCreation(this.state.output[0], true, 3, true, this.state.scaleX, this.state.scaleY);\n      this.jimpLogoCreation(this.state.output[0], true, 2, true, this.state.scaleX, this.state.scaleY);\n      //Scale : Color Correction (Reduction)\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, false, 5);\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, false, 4);\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, false, 3);\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, false, 2);\n      //Scale : Posterize : Color Correction (Reduction)\n      this.jimpLogoCreation(this.state.output[0], true, 7, true, this.state.scaleX, this.state.scaleY, false, 5);\n      this.jimpLogoCreation(this.state.output[0], true, 5, true, this.state.scaleX, this.state.scaleY, false, 4);\n      this.jimpLogoCreation(this.state.output[0], true, 3, true, this.state.scaleX, this.state.scaleY, false, 3);\n      this.jimpLogoCreation(this.state.output[0], true, 2, true, this.state.scaleX, this.state.scaleY, false, 2);\n  }\n\n  handleConvertButtonClick = (i) => {\n    /*\n    for (let [name, value] of Object.entries(colors)) {\n      console.log(`${name}: ${value}`);\n    }\n    */\n    //NOTE - THIS RETURNS THE VALUE, NO NEED FOR .VALUE\n    console.log(colorsArray);\n    console.log(colorsFreq);\n\n  }\n\n  handleSubmitButtonClick = (i) => {\n    console.log(\"Submit Button Clicked\");\n    this.setState({\n      output: [this.state.dropboxLink],\n    });\n  }\n\n  handleDownloadButtonClick = (i) => {\n    console.log(\"Download Button Clicked\");\n  }\n\n  handleLinkChange = (i) => {\n    this.setState({\n      dropboxLink: \"https://cors-anywhere.herokuapp.com/\" + i.target.value.slice(0, -1) + \"1\",\n    });\n  }\n\n  //picture is an array passed from image uploader\n  //pull most recently uploaded picture from current session\n  //TODO: reformat these functions into handleDrop and handleLinkChange\n  onDrop(picture){\n    //TODO: Insert function calls directly here to auto work on image\n    var localImg = URL.createObjectURL(picture[picture.length - 1]);\n    //Set state for display\n    this.setState({\n      output: [URL.createObjectURL(picture[picture.length - 1])],\n    });\n  }\n\n  onScaleFormChangeX(event){\n    //form takes in a string, need to parse into an Int for use in Jimp\n    this.setState({\n      scaleX: parseInt(event.target.value, 10)\n    });\n  }\n\n  onScaleFormChangeY(event){\n    //form takes in a string, need to parse into an Int for use in Jimp\n    this.setState({\n      scaleY: parseInt(event.target.value, 10)\n    });\n  }\n\n  //-------------------------------------------------------------\n  //render functions for each visible element\n  //TODO: combine everything in the same div into one render function\n  //like buttons for control panel and such\n  //-------------------------------------------------------------\n\n  renderLogoImage(){\n    return (\n      <div>\n        <DisplayLogoImg\n          picture={this.state.picture}\n          output={this.state.output}\n        />\n      </div>\n    )\n  }\n\n  renderProcessButton(i){\n    return(\n      <ProcessButton\n        onClick={this.handleProcessButtonClick}\n        imagesLoaded={this.state.imagesLoaded}\n      />\n    )\n  }\n\n  renderSubmitButton(i){\n    return(\n      <SubmitButton\n        onClick={this.handleSubmitButtonClick}\n      />\n    )\n  }\n\n  renderDownloadButton(i){\n    return(\n      <DownloadButton\n        onClick={this.handleDownloadButtonClick}\n      />\n    )\n  }\n\n  renderConvertButton(i){\n    return(\n      <ConvertButton\n        onClick={this.handleConvertButtonClick}\n      />\n    )\n  }\n\n  renderScaleForm(i){\n    return(\n      <ScaleForm\n        onChangeX={this.onScaleFormChangeX}\n        onChangeY={this.onScaleFormChangeY}\n      />\n    )\n  }\n\n  renderImageUploader(){\n    return(\n      <ImageUploader\n        withIcon={true}\n        buttonText='Choose image'\n        label=\"Max file size: 5mb, Filetypes accepted: .bmp | .jpg | .png\"\n        fileContainerStyle={{backgroundColor: \"grey\"}}\n        singleImage={true}\n        onChange={this.onDrop}\n        imgExtension={['.jpg', '.gif', '.png', '.bmp']}\n        maxFileSize={5242880}\n      />\n    )\n  }\n\n  renderLinkForm(){\n    return(\n      <Linkform onChange={this.handleLinkChange}/>\n    )\n  }\n\n\n  //-------------------------------------------------------------\n  //Functions to do the actual editing on the image\n  //-------------------------------------------------------------\n  jimpConvert(path, x, y){\n    jimp.read(path, function(err, image) {\n      image.getBase64(Jimp.AUTO, function(err, data){\n        this.setState({\n          picture: data.replace(\"image/png\", \"image/bmp\"),\n        });\n      }.bind(this));\n    }.bind(this));\n  }\n\n\n  jimpLogoCreation(path, posBool, pos, scale, scaleX, scaleY, grayscale, numColors){\n    jimp.read(path, function(err, image) {\n      //create local array of colors and populate it from global\n      //TODO: Check if need to unallocate memory here\n      var localColors = new Array(54);\n      if (localColors[0] === undefined){\n        for (var i = 0; i < colorsArray.length; i++){\n          localColors[i] = colorsArray[i];\n        }\n      }\n\n      if (scale)\n        image.resize(scaleX, scaleY);\n      if (posBool)\n        image.posterize(pos);\n      if (grayscale)\n        image.greyscale();\n      if (numColors !== undefined){\n        localColors.length = numColors;\n        //update colorsArray with new color order,\n        //important for removing correct colors when downsizing\n        for (var i = 0; i < numColors; i++){\n          localColors[i] = colorsFreq[i][0];\n        }\n        console.log(\"localColors Updated: \" + localColors);\n      }\n\n      //initialize getNewColor with new colorsArray\n      var getNewColor = nearestColor.from(localColors);\n      //Function to replace colors with our palette\n      image.scan(0, 0, image.bitmap.width, image.bitmap.height, function(x, y, idx) {\n        //First log RGB value of current pixel, toString(16) converts\n        //into hex form, padStart for 1 digit values\n        //var position = [x, y];\n        //red\n        var red = this.bitmap.data[idx];\n        var redHex = red.toString(16).padStart(2, \"0\");\n        //green\n        var green = this.bitmap.data[idx + 1];\n        var greenHex = green.toString(16).padStart(2, \"0\");\n        //blue\n        var blue = this.bitmap.data[idx + 2];\n        var blueHex = blue.toString(16).padStart(2, \"0\");\n\n        //Run nearestColor on this pixel\n        var close = getNewColor('#' + redHex + greenHex + blueHex);\n\n        //future timesave: Don't run this every time, only log frequency\n        //the first time you parse the image\n        for (var i = 0; i < colorsFreq.length; i++){\n          if (colorsFreq[i][0] === close)\n            colorsFreq[i][1]++;\n        }\n\n        var closeRed = parseInt(close.substr(1,2), 16);\n        var closeGreen = parseInt(close.substr(3,2), 16);\n        var closeBlue = parseInt(close.substr(5,2), 16);\n\n        //Change pixel colors into nearest from our palette\n        //red\n        this.bitmap.data[idx] = closeRed;\n        //green\n        this.bitmap.data[idx + 1] = closeGreen;\n        //blue\n        this.bitmap.data[idx + 2] = closeBlue;\n      })\n\n      //sort colorsFreq by frequency\n      colorsFreq.sort(sortFunction);\n      function sortFunction(a, b){\n        if (a[1] === b[1]) {\n          return 0;\n        }\n        else {\n          return (a[1] > b[1]) ? -1 : 1;\n        }\n      }\n\n      //add result to output array\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState(prevState => ({\n          output: [...prevState.output, data],\n          imagesLoaded: prevState.imagesLoaded + 1,\n        }))\n        console.log(\"image added \" + this.state.imagesLoaded);\n      }.bind(this));\n\n      //apply edited image to picture state\n      /*\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState({\n          picture: data,\n        });\n      }.bind(this));\n      */\n\n\n    }.bind(this));\n  }\n\n  jimpScale(path, x, y){\n    jimp.read(path, function(err, image) {\n      //image.scaleToFit(x,y);\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState(prevState => ({\n          output: [...prevState.output, data]\n        }))\n        console.log(\"image scaled\");\n      }.bind(this));\n    }.bind(this));\n  }\n\n  jimpResize(path, x, y){\n    jimp.read(path, function(err, image) {\n      image.resize(x,y);\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState({\n          picture: data,\n        });\n      }.bind(this));\n    }.bind(this));\n  }\n\n  jimpResizeBMP(path, x, y){\n    jimp.read(path, function(err, image) {\n      image.resize(x,y);\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState({\n          bmpPicture: data,\n        });\n      }.bind(this));\n    }.bind(this));\n  }\n\n  //map logo onto bitmap according to preset\n  //TODO: adjust for each preset\n\n  /*\n  jimpMap(path1, path2){\n    jimp.read(this.state.bmpPicture, function(err, bmpImage) {\n      jimp.read(this.state.picture, function(err, logo) {\n        bmpImage.composite(logo, 20, 20);\n        bmpImage.getBase64(Jimp.AUTO, function(err, data){\n          this.setState({\n            bmpPicture: data,\n          });\n        }.bind(this));\n      }.bind(this));\n    }.bind(this));\n  }\n  */\n\n  jimpTest(path){\n    var local;\n    jimp.read(path, function(err, image) {\n      this.local = image;\n    }.bind(this));\n    return local;\n  }\n\n  jimpPosterize(path, x){\n    jimp.read(path, function(err, image) {\n      image.posterize(x);\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState({\n          picture: data,\n        });\n      }.bind(this));\n    }.bind(this));\n  }\n\n  //-------------------------------------------------------------\n  //Final render of the application\n  //-------------------------------------------------------------\n  render() {\n    return (\n      <div>\n        <div className=\"workDisplay\">\n          {this.renderLogoImage()}\n        </div>\n        <div className=\"panelDisplay\">\n          {this.renderLinkForm()}\n          {this.renderSubmitButton()}\n          {this.renderImageUploader()}\n          {this.renderScaleForm()}\n          {this.renderProcessButton()}\n        </div>\n      </div>\n    );\n  }\n}\n\n\n//-------------------------------------------------------------\n//Overreaching App class, not nessecary at the moment but may be used later\n//-------------------------------------------------------------\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"app\">\n        <div className=\"app-img\">\n          <Editor />\n        </div>\n        <div className=\"img-fields\">\n          <div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n//-------------------------------------------------------------\n//Final DOM render, required by React\n//-------------------------------------------------------------\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}