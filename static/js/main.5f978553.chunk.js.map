{"version":3,"sources":["test2.jpg","index.js"],"names":["module","exports","jimp","require","colors","black","onyx","charcoal","concrete","quicksilver","bleach","rich_brown","mushroom","sand","natural","navy","ultramarine","lagoon","cerulean","cornflower","cyan","peacock","aruba","lake","seafoam","reef","teal","pine","kelly","jade","turf","lime","goldenrod","yellow","sunflower","carmel","clementine","living_coral","persimmon","red_orange","red","burnt_orange","rust","maroon","deep_pink","hibiscus","blush","peach","lavender","iris","purple","royal_purple","moose","violet","green_apple","carrot","lapis","parrot","french_blue","firstrun","colorsFreq","Array","colorsArray","i","length","Object","values","nearestColor","from","src","DisplayLogoImg","className","this","props","output","alt","React","Component","Linkform","type","onChange","ScaleForm","onChangeX","onChangeY","StretchForm","ProcessButton","onClick","imagesLoaded","SubmitButton","DownloadButton","ColorChangeButton","Editor","handleProcessButtonClick","jimpLogoCreation","state","scaleX","scaleY","stretch","handleColorChangeButtonClick","console","log","handleSubmitButtonClick","setState","dropboxLink","handleDownloadButtonClick","handleLinkChange","target","value","slice","picture","myRef","createRef","onDrop","bind","onScaleFormChangeX","onScaleFormChangeY","onStretchFormChange","prevProps","prevState","URL","createObjectURL","event","parseInt","checked","undefined","withIcon","buttonText","label","fileContainerStyle","backgroundColor","singleImage","imgExtension","maxFileSize","path","posBool","pos","scale","grayscale","numColors","read","err","image","localColors","resize","AUTO","newHeight","Math","round","bitmap","height","width","posterize","greyscale","getFirstColor","scan","x","y","idx","redHex","data","toString","padStart","greenHex","blueHex","close","sort","a","b","getNewColor","closeRed","substr","closeGreen","closeBlue","getBase64","Jimp","MIME_BMP","renderLinkForm","renderSubmitButton","renderImageUploader","renderScaleForm","renderStretchForm","renderProcessButton","renderColorChangeButton","renderLogoImage","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5f978553.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/test2.8b1bda72.jpg\";","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.css';\n//import './style/_buttons.scss';\nimport ImageUploader from 'react-images-upload';\nimport Jimp from 'jimp/es';\n\nvar jimp = require('jimp');\n\n\n//Three global color data structures, one a map of objects, one an array,\n//and one a 2D array\n//TODO: Downscale to remove map of objects, unneeded\nvar colors = {\n  black: '#000000',\n  onyx: '#333538',\n  charcoal: '#5f6468',\n  concrete: '#97a0a7',\n  quicksilver: '#e4e5e6',\n  bleach: '#ffffff',\n  rich_brown: '#372820',\n  mushroom: '#716257',\n  sand: '#bab3a0',\n  natural: '#f9f4ec',\n  navy: '#081e2c',\n  ultramarine: '#29217d',\n  lagoon: '#003e66',\n  cerulean: '#0169ca',\n  cornflower: '#529afc',\n  cyan: '#009ff1',\n  peacock: '#01aec9',\n  aruba: '#9dfbe7',\n  lake: '#6ac4dd',\n  seafoam: '#4ca696',\n  reef: '#00947d',\n  teal: '#007171',\n  pine: '#2b4423',\n  kelly: '#21772f',\n  jade: '#14b25a',\n  turf: '#60933b',\n  lime: '#a0ce3e',\n  goldenrod: '#d5d03a',\n  yellow: '#fff71b',\n  sunflower: '#ffc938',\n  carmel: '#d8a15e',\n  clementine: '#ff9a23',\n  living_coral: '#fb686d',\n  persimmon: '#fd5130',\n  red_orange: '#db1d3c',\n  red: '#c50f2d',\n  burnt_orange: '#a84c28',\n  rust: '#763742',\n  maroon: '#581c32',\n  deep_pink: '#c40876',\n  hibiscus: '#de4b9b',\n  blush: '#fdaeca',\n  peach: '#f7bfab',\n  lavender: '#a08dd6',\n  iris: '#77479f',\n  purple: '#5d1e5c',\n  royal_purple: '#401e72',\n  moose: '#653c2c',\n  violet: '#6753b2',\n  green_apple: '#76c727',\n  carrot: '#fd673e',\n  lapis: '#3c2f8f',\n  parrot: '#2fd078',\n  french_blue: '#638ee4',\n};\n\nvar firstrun = true;\n\n//TODO: Move initialization of arrays to seperate function\nvar colorsFreq = new Array(54);\nvar colorsArray = new Array(54);\n\n//Initialize colorsArray\n//load only hex values of colors into an array\nfor (var i = 0; i < colorsArray.length; i++){\n  colorsArray[i] = Object.values(colors)[i];\n}\n\n//make colorsFreq into a 2D array\nfor (var i = 0; i < colorsFreq.length; i++){\n  colorsFreq[i] = new Array(2);\n}\n\n//Initialize colorsFreq\n//copy array into new 2d array, starting with 0 for all frequencies\nfor (var i = 0; i < colorsFreq.length; i++){\n  colorsFreq[i][0] = colorsArray[i];\n  colorsFreq[i][1] = 0;\n}\n\nvar nearestColor = require('nearest-color').from(colors);\n\n//initialize the default image\nconst src = require(\"./test2.jpg\");\n//janky way around CORS policy for getting from dropbox link, pass through cors-anywhere server\n//var dropboxURL = \"0\"\n//var imgFinal = (\"https://cors-anywhere.herokuapp.com/\" + dropboxURL.slice(0, -1) + \"1\");\n\n//-------------------------------------------------------------\n//Main classes for displaying the output image array\n//-------------------------------------------------------------\nclass DisplayLogoImg extends React.Component{\n  render(){\n    return(\n      <div className=\"workDisplay\">\n        <div className=\"gallery\">\n        Source\n          <img className=\"workImage\" src={this.props.output[0]} alt=\"Source\" />\n        </div>\n        <div className=\"gallery\">\n        Results\n          <img className=\"workImage\" src={this.props.output[1]} alt=\"Result #1\" />\n          <img className=\"workImage\" src={this.props.output[2]} alt=\"Result #1\" />\n          <img className=\"workImage\" src={this.props.output[3]} alt=\"Result #1\" />\n          <img className=\"workImage\" src={this.props.output[3]} alt=\"Result #1\" />\n          <img className=\"workImage\" src={this.props.output[2]} alt=\"Result #3\" />\n          <img className=\"workImage\" src={this.props.output[3]} alt=\"Result #4\" />\n          <img className=\"workImage\" src={this.props.output[4]} alt=\"Result #5\" />\n          <img className=\"workImage\" src={this.props.output[5]} alt=\"Result #6\" />\n          <img className=\"workImage\" src={this.props.output[6]} alt=\"Result #7\" />\n          <img className=\"workImage\" src={this.props.output[7]} alt=\"Result #8\" />\n          <img className=\"workImage\" src={this.props.output[8]} alt=\"Result #9\" />\n          <img className=\"workImage\" src={this.props.output[9]} alt=\"Result #10\" />\n          <img className=\"workImage\" src={this.props.output[10]} alt=\"Result #11\" />\n          <img className=\"workImage\" src={this.props.output[11]} alt=\"Result #12\" />\n          <img className=\"workImage\" src={this.props.output[12]} alt=\"Result #13\" />\n          <img className=\"workImage\" src={this.props.output[13]} alt=\"Result #14\" />\n          <img className=\"workImage\" src={this.props.output[14]} alt=\"Result #15\" />\n          <img className=\"workImage\" src={this.props.output[15]} alt=\"Result #16\" />\n          <img className=\"workImage\" src={this.props.output[16]} alt=\"Result #17\" />\n          <img className=\"workImage\" src={this.props.output[17]} alt=\"Result #18\" />\n          <img className=\"workImage\" src={this.props.output[18]} alt=\"Result #19\" />\n          <img className=\"workImage\" src={this.props.output[19]} alt=\"Result #20\" />\n          <img className=\"workImage\" src={this.props.output[20]} alt=\"Result #21\" />\n          <img className=\"workImage\" src={this.props.output[21]} alt=\"Result #22\" />\n          <img className=\"workImage\" src={this.props.output[22]} alt=\"Result #23\" />\n          <img className=\"workImage\" src={this.props.output[23]} alt=\"Result #24\" />\n          <img className=\"workImage\" src={this.props.output[24]} alt=\"Result #25\" />\n          <img className=\"workImage\" src={this.props.output[25]} alt=\"Result #26\" />\n        </div>\n      </div>\n    )\n  }\n}\n\n//-------------------------------------------------------------\n//Custom classes for each button, passes state up\n//TODO:   Merge all of one type into a single class? [buttons, forms, etc]\n//        Transfer classes into seperate file and import it\n//-------------------------------------------------------------\n\nclass Linkform extends React.Component {\n  render() {\n    return (\n      <form className=\"myForm\">\n        <label>\n          Dropbox Link:\n          <input type=\"text\" onChange={this.props.onChange}/>\n        </label>\n      </form>\n    );\n  }\n}\n\nclass ScaleForm extends React.Component{\n  render(){\n    return(\n      <form className=\"myForm\">\n        <label>\n          Resize X:\n          <input type=\"number\" onChange={this.props.onChangeX} />\n        </label>\n        <label>\n          Resize Y:\n          <input type=\"number\" onChange={this.props.onChangeY} />\n        </label>\n        Leave blank to keep aspect ratio\n      </form>\n    )\n  }\n}\n\nclass StretchForm extends React.Component{\n  render(){\n    return(\n      <form className=\"myForm\">\n        <label>\n          Stretch 25% vertically?:\n          <input type=\"checkbox\" onChange={this.props.onChange} />\n        </label>\n      </form>\n    )\n  }\n}\n\n//TODO: Change hardcoded max images for loading to variable\nclass ProcessButton extends React.Component{\n  render(){\n    return(\n      <div>\n        <button className=\"myButton\" onClick={() => this.props.onClick()}>Process Logo</button>\n        Loaded {this.props.imagesLoaded}/26 images\n      </div>\n    )\n  }\n}\n\nclass SubmitButton extends React.Component{\n  render(){\n    return(\n      <button className=\"myButton\" onClick={() => this.props.onClick()}>Submit Link</button>\n    )\n  }\n}\n\nclass DownloadButton extends React.Component{\n  render(){\n    return(\n      <button onClick={() => this.props.onClick()}>Download BMP</button>\n    )\n  }\n}\n\nclass ColorChangeButton extends React.Component{\n  render(){\n    return(\n      <button className=\"myButton\" onClick={() => this.props.onClick()}>Replace Colors Only</button>\n    )\n  }\n}\n\n//-------------------------------------------------------------\n//Main editor app class, contains most info in state\n//-------------------------------------------------------------\nclass Editor extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      //value that holds the path to default image, then the base64 data of render\n      //base64 used by Jimp, since it is a web-based app. Local files caused issues.\n      picture: src,\n      //Array of output pictures\n      output: [],\n      dropboxLink: \"\",\n      scaleX: 0,\n      scaleY: 0,\n      imagesLoaded: 0,\n      stretch: false,\n    };\n    this.myRef = React.createRef();\n    //TODO: Bind these functions in their declaration, similar to handleX functions\n    this.onDrop = this.onDrop.bind(this);\n    this.onScaleFormChangeX = this.onScaleFormChangeX.bind(this);\n    this.onScaleFormChangeY = this.onScaleFormChangeY.bind(this);\n    this.onStretchFormChange = this.onStretchFormChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if (prevState.output !== this.state.output){\n      console.log(\"output state has changed: \" + this.state.output[0]);\n    }\n  }\n\n  //-------------------------------------------------------------\n  //Functions to handle events when different buttons are clicked\n  //or values are changed\n  //-------------------------------------------------------------\n  handleProcessButtonClick = () => {\n      //Format: posterize[bool], posterize value, scale[bool], scaleX, scaleY, stretch[bool], greyscale[bool], numColors\n      //TODO: format better, into a function or something\n      //      these function calls end up being \"jumbled\", i think due to the async setState,\n      //      so it is difficult to know which is what output in the array\n\n      //Scale : Color Correction\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, this.state.stretch);\n      //Scale : Greyscale : Color Correction\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, this.state.stretch, true);\n      //Scale : Color Correction (Reduction)\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 5);\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 4);\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 3);\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 2);\n      //Scale : Posterize : Color Correction\n      this.jimpLogoCreation(this.state.output[0], true, 7, true, this.state.scaleX, this.state.scaleY, this.state.stretch);\n      this.jimpLogoCreation(this.state.output[0], true, 5, true, this.state.scaleX, this.state.scaleY, this.state.stretch);\n      this.jimpLogoCreation(this.state.output[0], true, 3, true, this.state.scaleX, this.state.scaleY, this.state.stretch);\n      this.jimpLogoCreation(this.state.output[0], true, 2, true, this.state.scaleX, this.state.scaleY, this.state.stretch);\n      //Scale : Posterize : Color Correction (Reduction)\n      this.jimpLogoCreation(this.state.output[0], true, 7, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 5);\n      this.jimpLogoCreation(this.state.output[0], true, 7, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 4);\n      this.jimpLogoCreation(this.state.output[0], true, 7, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 3);\n      this.jimpLogoCreation(this.state.output[0], true, 7, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 2);\n      this.jimpLogoCreation(this.state.output[0], true, 5, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 5);\n      this.jimpLogoCreation(this.state.output[0], true, 5, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 4);\n      this.jimpLogoCreation(this.state.output[0], true, 5, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 4);\n      this.jimpLogoCreation(this.state.output[0], true, 5, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 3);\n      this.jimpLogoCreation(this.state.output[0], true, 3, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 5);\n      this.jimpLogoCreation(this.state.output[0], true, 3, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 4);\n      this.jimpLogoCreation(this.state.output[0], true, 3, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 3);\n      this.jimpLogoCreation(this.state.output[0], true, 3, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 3);\n      this.jimpLogoCreation(this.state.output[0], true, 2, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 5);\n      this.jimpLogoCreation(this.state.output[0], true, 2, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 4);\n      this.jimpLogoCreation(this.state.output[0], true, 2, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 3);\n      this.jimpLogoCreation(this.state.output[0], true, 2, true, this.state.scaleX, this.state.scaleY, this.state.stretch, false, 2);\n  }\n\n  handleColorChangeButtonClick = (i) => {\n    //NOTE - THIS RETURNS THE VALUE, NO NEED FOR .VALUE\n    console.log(\"sdfsdf\");\n    this.jimpLogoCreation(this.state.output[0], false, 0, false, 0, 0, false);\n\n  }\n\n  handleSubmitButtonClick = (i) => {\n    console.log(\"Submit Button Clicked\");\n    this.setState({\n      output: [this.state.dropboxLink],\n    });\n  }\n\n  handleDownloadButtonClick = (i) => {\n    console.log(\"Download Button Clicked\");\n  }\n\n  handleLinkChange = (i) => {\n    this.setState({\n      dropboxLink: \"https://cors-anywhere.herokuapp.com/\" + i.target.value.slice(0, -1) + \"1\",\n    });\n  }\n\n  //picture is an array passed from image uploader\n  //pull most recently uploaded picture from current session\n  //TODO: reformat these functions into handleDrop and handleLinkChange\n  onDrop(picture){\n    //TODO: Insert function calls directly here to auto work on image\n    var localImg = URL.createObjectURL(picture[picture.length - 1]);\n    //Set state for display\n    this.setState({\n      output: [URL.createObjectURL(picture[picture.length - 1])],\n    });\n  }\n\n  onScaleFormChangeX(event){\n    //form takes in a string, need to parse into an Int for use in Jimp\n    this.setState({\n      scaleX: parseInt(event.target.value, 10)\n    });\n  }\n\n  onScaleFormChangeY(event){\n    //form takes in a string, need to parse into an Int for use in Jimp\n    this.setState({\n      scaleY: parseInt(event.target.value, 10)\n    });\n  }\n\n  onStretchFormChange(event){\n    //console.log(event.target.checked);\n    this.setState({\n      stretch: event.target.checked,\n    });\n  }\n\n  //-------------------------------------------------------------\n  //render functions for each visible element\n  //TODO: combine everything in the same div into one render function\n  //like buttons for control panel and such\n  //-------------------------------------------------------------\n\n  renderLogoImage(){\n    if (this.state.output[0] !== undefined)\n    return (\n      <div>\n        <DisplayLogoImg\n          picture={this.state.picture}\n          output={this.state.output}\n        />\n      </div>\n    )\n  }\n\n  renderProcessButton(i){\n    return(\n      <ProcessButton\n        onClick={this.handleProcessButtonClick}\n        imagesLoaded={this.state.imagesLoaded}\n      />\n    )\n  }\n\n  renderSubmitButton(i){\n    return(\n      <SubmitButton\n        onClick={this.handleSubmitButtonClick}\n      />\n    )\n  }\n\n  renderDownloadButton(i){\n    return(\n      <DownloadButton\n        onClick={this.handleDownloadButtonClick}\n      />\n    )\n  }\n\n  renderColorChangeButton(i){\n    return(\n      <ColorChangeButton\n        onClick={this.handleColorChangeButtonClick}\n      />\n    )\n  }\n\n  renderScaleForm(i){\n    return(\n      <ScaleForm\n        onChangeX={this.onScaleFormChangeX}\n        onChangeY={this.onScaleFormChangeY}\n      />\n    )\n  }\n\n  renderStretchForm(i){\n    return(\n      <StretchForm\n        onChange={this.onStretchFormChange}\n      />\n    )\n  }\n\n  renderImageUploader(){\n    return(\n      <ImageUploader\n        withIcon={true}\n        buttonText='Choose image'\n        label=\"Max file size: 5mb, Filetypes accepted: .bmp | .jpg | .png\"\n        fileContainerStyle={{backgroundColor: \"grey\"}}\n        singleImage={true}\n        onChange={this.onDrop}\n        imgExtension={['.jpg', '.gif', '.png', '.bmp']}\n        maxFileSize={5242880}\n      />\n    )\n  }\n\n  renderLinkForm(){\n    return(\n      <Linkform onChange={this.handleLinkChange}/>\n    )\n  }\n\n\n  //-------------------------------------------------------------\n  //Functions to do the actual editing on the image\n  //-------------------------------------------------------------\n  jimpLogoCreation(path, posBool, pos, scale, scaleX, scaleY, stretch, grayscale, numColors){\n    jimp.read(path, function(err, image) {\n      //create local array of colors and populate it from global\n      //TODO: Check if need to unallocate memory here\n      var localColors = new Array(54);\n      if (localColors[0] === undefined){\n        for (var i = 0; i < colorsArray.length; i++){\n          localColors[i] = colorsArray[i];\n        }\n      }\n\n      if (scale){\n        if (scaleX === 0){\n          if (scaleY === 0){\n            //if both fields are not input, scale to 100 X and scale Y according to aspect ratio\n            console.log(\"Found no size variables\");\n            image.resize(100, jimp.AUTO);\n          }\n          else {\n            //if only the Y vaue is input,\n            console.log(\"Only found y value\");\n            image.resize(jimp.AUTO, scaleY);\n          }\n        }\n        else if (scaleY === 0){\n          if (scaleX === 0){\n            //if both fields are not input, scale to 100 X and scale Y according to aspect ratio\n            console.log(\"Found no size variables\");\n            image.resize(100, jimp.AUTO);\n          }\n          else {\n            //if only the X vaue is input,\n            console.log(\"Only found x value\");\n            image.resize(scaleX, jimp.AUTO);\n          }\n        }\n        //if both values are input\n        else {\n          console.log(\"Found both size variables\");\n          image.resize(scaleX, scaleY);\n        }\n      }\n      if (stretch){\n        var newHeight = Math.round(image.bitmap.height * 1.25);\n        image.resize(image.bitmap.width, newHeight);\n        console.log(\"Image stretched\");\n      }\n\n      if (posBool)\n        image.posterize(pos);\n      if (grayscale)\n        image.greyscale();\n\n      //initialize getNewColor with new colorsArray\n      var getFirstColor = nearestColor.from(colorsArray);\n\n      //function to scan for most popular colors in image, only do on first run\n      if (firstrun){\n        console.log('Calculating most popular colors....')\n        image.scan(0, 0, image.bitmap.width, image.bitmap.height, function(x, y, idx) {\n          //First log RGB value of current pixel, toString(16) converts\n          //into hex form, padStart for 1 digit values\n          //var position = [x, y];\n          //red\n          var red = this.bitmap.data[idx];\n          var redHex = red.toString(16).padStart(2, \"0\");\n          //green\n          var green = this.bitmap.data[idx + 1];\n          var greenHex = green.toString(16).padStart(2, \"0\");\n          //blue\n          var blue = this.bitmap.data[idx + 2];\n          var blueHex = blue.toString(16).padStart(2, \"0\");\n\n          //Run nearestColor on this pixel\n          var close = getFirstColor('#' + redHex + greenHex + blueHex);\n\n          //future timesave: Don't run this every time, only log frequency\n          //the first time you parse the image\n          for (var i = 0; i < colorsFreq.length; i++){\n            if (colorsFreq[i][0] === close){\n              colorsFreq[i][1]++;\n            }\n          }\n        })\n        firstrun = false;\n\n        //sort colorsFreq by frequency\n        colorsFreq.sort(sortFunction);\n        function sortFunction(a, b){\n          if (a[1] === b[1]) {\n            return 0;\n          }\n          else {\n            return (a[1] > b[1]) ? -1 : 1;\n          }\n        }\n      }\n\n      if (numColors !== undefined){\n        localColors.length = numColors;\n        //update colorsArray with new color order,\n        //important for removing correct colors when downsizing\n        for (var i = 0; i < numColors; i++){\n          localColors[i] = colorsFreq[i][0];\n        }\n        console.log(\"localColors Updated: \" + localColors);\n      }\n\n      //\n      var getNewColor = nearestColor.from(localColors);\n\n      //Function to replace colors with our palette\n      image.scan(0, 0, image.bitmap.width, image.bitmap.height, function(x, y, idx) {\n        //First log RGB value of current pixel, toString(16) converts\n        //into hex form, padStart for 1 digit values\n        //var position = [x, y];\n        //red\n        var red = this.bitmap.data[idx];\n        var redHex = red.toString(16).padStart(2, \"0\");\n        //green\n        var green = this.bitmap.data[idx + 1];\n        var greenHex = green.toString(16).padStart(2, \"0\");\n        //blue\n        var blue = this.bitmap.data[idx + 2];\n        var blueHex = blue.toString(16).padStart(2, \"0\");\n\n        //Run nearestColor on this pixel\n        var close = getNewColor('#' + redHex + greenHex + blueHex);\n\n        var closeRed = parseInt(close.substr(1,2), 16);\n        var closeGreen = parseInt(close.substr(3,2), 16);\n        var closeBlue = parseInt(close.substr(5,2), 16);\n\n        //Change pixel colors into nearest from our palette\n        //red\n        this.bitmap.data[idx] = closeRed;\n        //green\n        this.bitmap.data[idx + 1] = closeGreen;\n        //blue\n        this.bitmap.data[idx + 2] = closeBlue;\n      })\n\n      //add result to output array\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState(prevState => ({\n          output: [...prevState.output, data],\n          imagesLoaded: prevState.imagesLoaded + 1,\n        }))\n        console.log(\"image added \" + this.state.imagesLoaded);\n      }.bind(this));\n\n      //apply edited image to picture state\n      /*\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState({\n          picture: data,\n        });\n      }.bind(this));\n      */\n\n\n    }.bind(this));\n  }\n  //-------------------------------------------------------------\n  //Final render of the application\n  //-------------------------------------------------------------\n  render() {\n    return (\n      <div>\n        <div className=\"panelDisplay\">\n          {this.renderLinkForm()}\n          {this.renderSubmitButton()}\n          {this.renderImageUploader()}\n          {this.renderScaleForm()}\n          {this.renderStretchForm()}\n          {this.renderProcessButton()}\n          {this.renderColorChangeButton()}\n        </div>\n        <div className=\"workDisplay\">\n          {this.renderLogoImage()}\n        </div>\n      </div>\n    );\n  }\n}\n\n\n//-------------------------------------------------------------\n//Overreaching App class, not nessecary at the moment but may be used later\n//-------------------------------------------------------------\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"app\">\n        <div className=\"app-img\">\n          <Editor />\n        </div>\n        <div className=\"img-fields\">\n          <div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n//-------------------------------------------------------------\n//Final DOM render, required by React\n//-------------------------------------------------------------\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}