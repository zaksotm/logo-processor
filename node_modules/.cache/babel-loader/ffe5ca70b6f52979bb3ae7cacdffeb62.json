{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.srcOver = srcOver;\nexports.dstOver = dstOver;\nexports.multiply = multiply;\nexports.screen = screen;\nexports.overlay = overlay;\nexports.darken = darken;\nexports.lighten = lighten;\nexports.hardLight = hardLight;\nexports.difference = difference;\nexports.exclusion = exclusion;\n\nfunction srcOver(src, dst) {\n  var ops = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  src.a *= ops;\n  var a = dst.a + src.a - dst.a * src.a;\n  var r = (src.r * src.a + dst.r * dst.a * (1 - src.a)) / a;\n  var g = (src.g * src.a + dst.g * dst.a * (1 - src.a)) / a;\n  var b = (src.b * src.a + dst.b * dst.a * (1 - src.a)) / a;\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\n\nfunction dstOver(src, dst) {\n  var ops = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  src.a *= ops;\n  var a = dst.a + src.a - dst.a * src.a;\n  var r = (dst.r * dst.a + src.r * src.a * (1 - dst.a)) / a;\n  var g = (dst.g * dst.a + src.g * src.a * (1 - dst.a)) / a;\n  var b = (dst.b * dst.a + src.b * src.a * (1 - dst.a)) / a;\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\n\nfunction multiply(src, dst) {\n  var ops = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  src.a *= ops;\n  var a = dst.a + src.a - dst.a * src.a;\n  var sra = src.r * src.a;\n  var sga = src.g * src.a;\n  var sba = src.b * src.a;\n  var dra = dst.r * dst.a;\n  var dga = dst.g * dst.a;\n  var dba = dst.b * dst.a;\n  var r = (sra * dra + sra * (1 - dst.a) + dra * (1 - src.a)) / a;\n  var g = (sga * dga + sga * (1 - dst.a) + dga * (1 - src.a)) / a;\n  var b = (sba * dba + sba * (1 - dst.a) + dba * (1 - src.a)) / a;\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\n\nfunction screen(src, dst) {\n  var ops = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  src.a *= ops;\n  var a = dst.a + src.a - dst.a * src.a;\n  var sra = src.r * src.a;\n  var sga = src.g * src.a;\n  var sba = src.b * src.a;\n  var dra = dst.r * dst.a;\n  var dga = dst.g * dst.a;\n  var dba = dst.b * dst.a;\n  var r = (sra * dst.a + dra * src.a - sra * dra + sra * (1 - dst.a) + dra * (1 - src.a)) / a;\n  var g = (sga * dst.a + dga * src.a - sga * dga + sga * (1 - dst.a) + dga * (1 - src.a)) / a;\n  var b = (sba * dst.a + dba * src.a - sba * dba + sba * (1 - dst.a) + dba * (1 - src.a)) / a;\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\n\nfunction overlay(src, dst) {\n  var ops = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  src.a *= ops;\n  var a = dst.a + src.a - dst.a * src.a;\n  var sra = src.r * src.a;\n  var sga = src.g * src.a;\n  var sba = src.b * src.a;\n  var dra = dst.r * dst.a;\n  var dga = dst.g * dst.a;\n  var dba = dst.b * dst.a;\n  var r = (2 * dra <= dst.a ? 2 * sra * dra + sra * (1 - dst.a) + dra * (1 - src.a) : sra * (1 + dst.a) + dra * (1 + src.a) - 2 * dra * sra - dst.a * src.a) / a;\n  var g = (2 * dga <= dst.a ? 2 * sga * dga + sga * (1 - dst.a) + dga * (1 - src.a) : sga * (1 + dst.a) + dga * (1 + src.a) - 2 * dga * sga - dst.a * src.a) / a;\n  var b = (2 * dba <= dst.a ? 2 * sba * dba + sba * (1 - dst.a) + dba * (1 - src.a) : sba * (1 + dst.a) + dba * (1 + src.a) - 2 * dba * sba - dst.a * src.a) / a;\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\n\nfunction darken(src, dst) {\n  var ops = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  src.a *= ops;\n  var a = dst.a + src.a - dst.a * src.a;\n  var sra = src.r * src.a;\n  var sga = src.g * src.a;\n  var sba = src.b * src.a;\n  var dra = dst.r * dst.a;\n  var dga = dst.g * dst.a;\n  var dba = dst.b * dst.a;\n  var r = (Math.min(sra * dst.a, dra * src.a) + sra * (1 - dst.a) + dra * (1 - src.a)) / a;\n  var g = (Math.min(sga * dst.a, dga * src.a) + sga * (1 - dst.a) + dga * (1 - src.a)) / a;\n  var b = (Math.min(sba * dst.a, dba * src.a) + sba * (1 - dst.a) + dba * (1 - src.a)) / a;\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\n\nfunction lighten(src, dst) {\n  var ops = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  src.a *= ops;\n  var a = dst.a + src.a - dst.a * src.a;\n  var sra = src.r * src.a;\n  var sga = src.g * src.a;\n  var sba = src.b * src.a;\n  var dra = dst.r * dst.a;\n  var dga = dst.g * dst.a;\n  var dba = dst.b * dst.a;\n  var r = (Math.max(sra * dst.a, dra * src.a) + sra * (1 - dst.a) + dra * (1 - src.a)) / a;\n  var g = (Math.max(sga * dst.a, dga * src.a) + sga * (1 - dst.a) + dga * (1 - src.a)) / a;\n  var b = (Math.max(sba * dst.a, dba * src.a) + sba * (1 - dst.a) + dba * (1 - src.a)) / a;\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\n\nfunction hardLight(src, dst) {\n  var ops = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  src.a *= ops;\n  var a = dst.a + src.a - dst.a * src.a;\n  var sra = src.r * src.a;\n  var sga = src.g * src.a;\n  var sba = src.b * src.a;\n  var dra = dst.r * dst.a;\n  var dga = dst.g * dst.a;\n  var dba = dst.b * dst.a;\n  var r = (2 * sra <= src.a ? 2 * sra * dra + sra * (1 - dst.a) + dra * (1 - src.a) : sra * (1 + dst.a) + dra * (1 + src.a) - 2 * dra * sra - dst.a * src.a) / a;\n  var g = (2 * sga <= src.a ? 2 * sga * dga + sga * (1 - dst.a) + dga * (1 - src.a) : sga * (1 + dst.a) + dga * (1 + src.a) - 2 * dga * sga - dst.a * src.a) / a;\n  var b = (2 * sba <= src.a ? 2 * sba * dba + sba * (1 - dst.a) + dba * (1 - src.a) : sba * (1 + dst.a) + dba * (1 + src.a) - 2 * dba * sba - dst.a * src.a) / a;\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\n\nfunction difference(src, dst) {\n  var ops = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  src.a *= ops;\n  var a = dst.a + src.a - dst.a * src.a;\n  var sra = src.r * src.a;\n  var sga = src.g * src.a;\n  var sba = src.b * src.a;\n  var dra = dst.r * dst.a;\n  var dga = dst.g * dst.a;\n  var dba = dst.b * dst.a;\n  var r = (sra + dra - 2 * Math.min(sra * dst.a, dra * src.a)) / a;\n  var g = (sga + dga - 2 * Math.min(sga * dst.a, dga * src.a)) / a;\n  var b = (sba + dba - 2 * Math.min(sba * dst.a, dba * src.a)) / a;\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\n\nfunction exclusion(src, dst) {\n  var ops = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  src.a *= ops;\n  var a = dst.a + src.a - dst.a * src.a;\n  var sra = src.r * src.a;\n  var sga = src.g * src.a;\n  var sba = src.b * src.a;\n  var dra = dst.r * dst.a;\n  var dga = dst.g * dst.a;\n  var dba = dst.b * dst.a;\n  var r = (sra * dst.a + dra * src.a - 2 * sra * dra + sra * (1 - dst.a) + dra * (1 - src.a)) / a;\n  var g = (sga * dst.a + dga * src.a - 2 * sga * dga + sga * (1 - dst.a) + dga * (1 - src.a)) / a;\n  var b = (sba * dst.a + dba * src.a - 2 * sba * dba + sba * (1 - dst.a) + dba * (1 - src.a)) / a;\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}","map":{"version":3,"sources":["../../src/composite/composite-modes.js"],"names":["ops","src","a","dst","r","g","b","sra","sga","sba","dra","dga","dba","Math"],"mappings":"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","sourcesContent":["export function srcOver(src, dst, ops = 1) {\n  src.a *= ops;\n\n  const a = dst.a + src.a - dst.a * src.a;\n\n  const r = (src.r * src.a + dst.r * dst.a * (1 - src.a)) / a;\n  const g = (src.g * src.a + dst.g * dst.a * (1 - src.a)) / a;\n  const b = (src.b * src.a + dst.b * dst.a * (1 - src.a)) / a;\n\n  return { r, g, b, a };\n}\n\nexport function dstOver(src, dst, ops = 1) {\n  src.a *= ops;\n\n  const a = dst.a + src.a - dst.a * src.a;\n\n  const r = (dst.r * dst.a + src.r * src.a * (1 - dst.a)) / a;\n  const g = (dst.g * dst.a + src.g * src.a * (1 - dst.a)) / a;\n  const b = (dst.b * dst.a + src.b * src.a * (1 - dst.a)) / a;\n\n  return { r, g, b, a };\n}\n\nexport function multiply(src, dst, ops = 1) {\n  src.a *= ops;\n\n  const a = dst.a + src.a - dst.a * src.a;\n\n  const sra = src.r * src.a;\n  const sga = src.g * src.a;\n  const sba = src.b * src.a;\n\n  const dra = dst.r * dst.a;\n  const dga = dst.g * dst.a;\n  const dba = dst.b * dst.a;\n\n  const r = (sra * dra + sra * (1 - dst.a) + dra * (1 - src.a)) / a;\n  const g = (sga * dga + sga * (1 - dst.a) + dga * (1 - src.a)) / a;\n  const b = (sba * dba + sba * (1 - dst.a) + dba * (1 - src.a)) / a;\n\n  return { r, g, b, a };\n}\n\nexport function screen(src, dst, ops = 1) {\n  src.a *= ops;\n\n  const a = dst.a + src.a - dst.a * src.a;\n\n  const sra = src.r * src.a;\n  const sga = src.g * src.a;\n  const sba = src.b * src.a;\n\n  const dra = dst.r * dst.a;\n  const dga = dst.g * dst.a;\n  const dba = dst.b * dst.a;\n\n  const r =\n    (sra * dst.a +\n      dra * src.a -\n      sra * dra +\n      sra * (1 - dst.a) +\n      dra * (1 - src.a)) /\n    a;\n  const g =\n    (sga * dst.a +\n      dga * src.a -\n      sga * dga +\n      sga * (1 - dst.a) +\n      dga * (1 - src.a)) /\n    a;\n  const b =\n    (sba * dst.a +\n      dba * src.a -\n      sba * dba +\n      sba * (1 - dst.a) +\n      dba * (1 - src.a)) /\n    a;\n\n  return { r, g, b, a };\n}\n\nexport function overlay(src, dst, ops = 1) {\n  src.a *= ops;\n\n  const a = dst.a + src.a - dst.a * src.a;\n\n  const sra = src.r * src.a;\n  const sga = src.g * src.a;\n  const sba = src.b * src.a;\n\n  const dra = dst.r * dst.a;\n  const dga = dst.g * dst.a;\n  const dba = dst.b * dst.a;\n\n  const r =\n    (2 * dra <= dst.a\n      ? 2 * sra * dra + sra * (1 - dst.a) + dra * (1 - src.a)\n      : sra * (1 + dst.a) + dra * (1 + src.a) - 2 * dra * sra - dst.a * src.a) /\n    a;\n\n  const g =\n    (2 * dga <= dst.a\n      ? 2 * sga * dga + sga * (1 - dst.a) + dga * (1 - src.a)\n      : sga * (1 + dst.a) + dga * (1 + src.a) - 2 * dga * sga - dst.a * src.a) /\n    a;\n\n  const b =\n    (2 * dba <= dst.a\n      ? 2 * sba * dba + sba * (1 - dst.a) + dba * (1 - src.a)\n      : sba * (1 + dst.a) + dba * (1 + src.a) - 2 * dba * sba - dst.a * src.a) /\n    a;\n\n  return { r, g, b, a };\n}\n\nexport function darken(src, dst, ops = 1) {\n  src.a *= ops;\n\n  const a = dst.a + src.a - dst.a * src.a;\n\n  const sra = src.r * src.a;\n  const sga = src.g * src.a;\n  const sba = src.b * src.a;\n\n  const dra = dst.r * dst.a;\n  const dga = dst.g * dst.a;\n  const dba = dst.b * dst.a;\n\n  const r =\n    (Math.min(sra * dst.a, dra * src.a) +\n      sra * (1 - dst.a) +\n      dra * (1 - src.a)) /\n    a;\n  const g =\n    (Math.min(sga * dst.a, dga * src.a) +\n      sga * (1 - dst.a) +\n      dga * (1 - src.a)) /\n    a;\n  const b =\n    (Math.min(sba * dst.a, dba * src.a) +\n      sba * (1 - dst.a) +\n      dba * (1 - src.a)) /\n    a;\n\n  return { r, g, b, a };\n}\n\nexport function lighten(src, dst, ops = 1) {\n  src.a *= ops;\n\n  const a = dst.a + src.a - dst.a * src.a;\n\n  const sra = src.r * src.a;\n  const sga = src.g * src.a;\n  const sba = src.b * src.a;\n\n  const dra = dst.r * dst.a;\n  const dga = dst.g * dst.a;\n  const dba = dst.b * dst.a;\n\n  const r =\n    (Math.max(sra * dst.a, dra * src.a) +\n      sra * (1 - dst.a) +\n      dra * (1 - src.a)) /\n    a;\n  const g =\n    (Math.max(sga * dst.a, dga * src.a) +\n      sga * (1 - dst.a) +\n      dga * (1 - src.a)) /\n    a;\n  const b =\n    (Math.max(sba * dst.a, dba * src.a) +\n      sba * (1 - dst.a) +\n      dba * (1 - src.a)) /\n    a;\n\n  return { r, g, b, a };\n}\n\nexport function hardLight(src, dst, ops = 1) {\n  src.a *= ops;\n\n  const a = dst.a + src.a - dst.a * src.a;\n\n  const sra = src.r * src.a;\n  const sga = src.g * src.a;\n  const sba = src.b * src.a;\n\n  const dra = dst.r * dst.a;\n  const dga = dst.g * dst.a;\n  const dba = dst.b * dst.a;\n\n  const r =\n    (2 * sra <= src.a\n      ? 2 * sra * dra + sra * (1 - dst.a) + dra * (1 - src.a)\n      : sra * (1 + dst.a) + dra * (1 + src.a) - 2 * dra * sra - dst.a * src.a) /\n    a;\n\n  const g =\n    (2 * sga <= src.a\n      ? 2 * sga * dga + sga * (1 - dst.a) + dga * (1 - src.a)\n      : sga * (1 + dst.a) + dga * (1 + src.a) - 2 * dga * sga - dst.a * src.a) /\n    a;\n\n  const b =\n    (2 * sba <= src.a\n      ? 2 * sba * dba + sba * (1 - dst.a) + dba * (1 - src.a)\n      : sba * (1 + dst.a) + dba * (1 + src.a) - 2 * dba * sba - dst.a * src.a) /\n    a;\n\n  return { r, g, b, a };\n}\n\nexport function difference(src, dst, ops = 1) {\n  src.a *= ops;\n\n  const a = dst.a + src.a - dst.a * src.a;\n\n  const sra = src.r * src.a;\n  const sga = src.g * src.a;\n  const sba = src.b * src.a;\n\n  const dra = dst.r * dst.a;\n  const dga = dst.g * dst.a;\n  const dba = dst.b * dst.a;\n\n  const r = (sra + dra - 2 * Math.min(sra * dst.a, dra * src.a)) / a;\n  const g = (sga + dga - 2 * Math.min(sga * dst.a, dga * src.a)) / a;\n  const b = (sba + dba - 2 * Math.min(sba * dst.a, dba * src.a)) / a;\n\n  return { r, g, b, a };\n}\n\nexport function exclusion(src, dst, ops = 1) {\n  src.a *= ops;\n\n  const a = dst.a + src.a - dst.a * src.a;\n\n  const sra = src.r * src.a;\n  const sga = src.g * src.a;\n  const sba = src.b * src.a;\n\n  const dra = dst.r * dst.a;\n  const dga = dst.g * dst.a;\n  const dba = dst.b * dst.a;\n\n  const r =\n    (sra * dst.a +\n      dra * src.a -\n      2 * sra * dra +\n      sra * (1 - dst.a) +\n      dra * (1 - src.a)) /\n    a;\n  const g =\n    (sga * dst.a +\n      dga * src.a -\n      2 * sga * dga +\n      sga * (1 - dst.a) +\n      dga * (1 - src.a)) /\n    a;\n  const b =\n    (sba * dst.a +\n      dba * src.a -\n      2 * sba * dba +\n      sba * (1 - dst.a) +\n      dba * (1 - src.a)) /\n    a;\n\n  return { r, g, b, a };\n}\n"]},"metadata":{},"sourceType":"script"}