{"ast":null,"code":"function BufferStream(buffer, offset, length, bigEndian) {\n  this.buffer = buffer;\n  this.offset = offset || 0;\n  length = typeof length === 'number' ? length : buffer.length;\n  this.endPosition = this.offset + length;\n  this.setBigEndian(bigEndian);\n}\n\nBufferStream.prototype = {\n  setBigEndian: function setBigEndian(bigEndian) {\n    this.bigEndian = !!bigEndian;\n  },\n  nextUInt8: function nextUInt8() {\n    var value = this.buffer.readUInt8(this.offset);\n    this.offset += 1;\n    return value;\n  },\n  nextInt8: function nextInt8() {\n    var value = this.buffer.readInt8(this.offset);\n    this.offset += 1;\n    return value;\n  },\n  nextUInt16: function nextUInt16() {\n    var value = this.bigEndian ? this.buffer.readUInt16BE(this.offset) : this.buffer.readUInt16LE(this.offset);\n    this.offset += 2;\n    return value;\n  },\n  nextUInt32: function nextUInt32() {\n    var value = this.bigEndian ? this.buffer.readUInt32BE(this.offset) : this.buffer.readUInt32LE(this.offset);\n    this.offset += 4;\n    return value;\n  },\n  nextInt16: function nextInt16() {\n    var value = this.bigEndian ? this.buffer.readInt16BE(this.offset) : this.buffer.readInt16LE(this.offset);\n    this.offset += 2;\n    return value;\n  },\n  nextInt32: function nextInt32() {\n    var value = this.bigEndian ? this.buffer.readInt32BE(this.offset) : this.buffer.readInt32LE(this.offset);\n    this.offset += 4;\n    return value;\n  },\n  nextFloat: function nextFloat() {\n    var value = this.bigEndian ? this.buffer.readFloatBE(this.offset) : this.buffer.readFloatLE(this.offset);\n    this.offset += 4;\n    return value;\n  },\n  nextDouble: function nextDouble() {\n    var value = this.bigEndian ? this.buffer.readDoubleBE(this.offset) : this.buffer.readDoubleLE(this.offset);\n    this.offset += 8;\n    return value;\n  },\n  nextBuffer: function nextBuffer(length) {\n    var value = this.buffer.slice(this.offset, this.offset + length);\n    this.offset += length;\n    return value;\n  },\n  remainingLength: function remainingLength() {\n    return this.endPosition - this.offset;\n  },\n  nextString: function nextString(length) {\n    var value = this.buffer.toString('utf8', this.offset, this.offset + length);\n    this.offset += length;\n    return value;\n  },\n  mark: function mark() {\n    var self = this;\n    return {\n      openWithOffset: function openWithOffset(offset) {\n        offset = (offset || 0) + this.offset;\n        return new BufferStream(self.buffer, offset, self.endPosition - offset, self.bigEndian);\n      },\n      offset: this.offset\n    };\n  },\n  offsetFrom: function offsetFrom(marker) {\n    return this.offset - marker.offset;\n  },\n  skip: function skip(amount) {\n    this.offset += amount;\n  },\n  branch: function branch(offset, length) {\n    length = typeof length === 'number' ? length : this.endPosition - (this.offset + offset);\n    return new BufferStream(this.buffer, this.offset + offset, length, this.bigEndian);\n  }\n};\nmodule.exports = BufferStream;","map":{"version":3,"sources":["/Users/zakstratton/Documents/logo-processor/node_modules/exif-parser/lib/bufferstream.js"],"names":["BufferStream","buffer","offset","length","bigEndian","endPosition","setBigEndian","prototype","nextUInt8","value","readUInt8","nextInt8","readInt8","nextUInt16","readUInt16BE","readUInt16LE","nextUInt32","readUInt32BE","readUInt32LE","nextInt16","readInt16BE","readInt16LE","nextInt32","readInt32BE","readInt32LE","nextFloat","readFloatBE","readFloatLE","nextDouble","readDoubleBE","readDoubleLE","nextBuffer","slice","remainingLength","nextString","toString","mark","self","openWithOffset","offsetFrom","marker","skip","amount","branch","module","exports"],"mappings":"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","sourcesContent":["function BufferStream(buffer, offset, length, bigEndian) {\n\tthis.buffer = buffer;\n\tthis.offset = offset || 0;\n\tlength = typeof length === 'number' ? length : buffer.length;\n\tthis.endPosition = this.offset + length;\n\tthis.setBigEndian(bigEndian);\n}\n\nBufferStream.prototype = {\n\tsetBigEndian: function(bigEndian) {\n\t\tthis.bigEndian = !!bigEndian;\n\t},\n\tnextUInt8: function() {\n\t\tvar value = this.buffer.readUInt8(this.offset);\n\t\tthis.offset += 1;\n\t\treturn value;\n\t},\n\tnextInt8: function() {\n\t\tvar value = this.buffer.readInt8(this.offset);\n\t\tthis.offset += 1;\n\t\treturn value;\n\t},\n\tnextUInt16: function() {\n\t\tvar value = this.bigEndian ? this.buffer.readUInt16BE(this.offset) : this.buffer.readUInt16LE(this.offset);\n\t\tthis.offset += 2;\n\t\treturn value;\n\t},\n\tnextUInt32: function() {\n\t\tvar value = this.bigEndian ? this.buffer.readUInt32BE(this.offset) : this.buffer.readUInt32LE(this.offset);\n\t\tthis.offset += 4;\n\t\treturn value;\n\t},\n\tnextInt16: function() {\n\t\tvar value = this.bigEndian ? this.buffer.readInt16BE(this.offset) : this.buffer.readInt16LE(this.offset);\n\t\tthis.offset += 2;\n\t\treturn value;\n\t},\n\tnextInt32: function() {\n\t\tvar value = this.bigEndian ? this.buffer.readInt32BE(this.offset) : this.buffer.readInt32LE(this.offset);\n\t\tthis.offset += 4;\n\t\treturn value;\n\t},\n\tnextFloat: function() {\n\t\tvar value = this.bigEndian ? this.buffer.readFloatBE(this.offset) : this.buffer.readFloatLE(this.offset);\n\t\tthis.offset += 4;\n\t\treturn value;\n\t},\n\tnextDouble: function() {\n\t\tvar value = this.bigEndian ? this.buffer.readDoubleBE(this.offset) : this.buffer.readDoubleLE(this.offset);\n\t\tthis.offset += 8;\n\t\treturn value;\n\t},\n\tnextBuffer: function(length) {\n\t\tvar value = this.buffer.slice(this.offset, this.offset + length);\n\t\tthis.offset += length;\n\t\treturn value;\n\t},\n\tremainingLength: function() {\n\t\treturn this.endPosition - this.offset;\n\t},\n\tnextString: function(length) {\n\t\tvar value = this.buffer.toString('utf8', this.offset, this.offset + length);\n\t\tthis.offset += length;\n\t\treturn value;\n\t},\n\tmark: function() {\n\t\tvar self = this;\n\t\treturn {\n\t\t\topenWithOffset: function(offset) {\n\t\t\t\toffset = (offset || 0) + this.offset;\n\t\t\t\treturn new BufferStream(self.buffer, offset, self.endPosition - offset, self.bigEndian);\n\t\t\t},\n\t\t\toffset: this.offset\n\t\t};\n\t},\n\toffsetFrom: function(marker) {\n\t\treturn this.offset - marker.offset;\n\t},\n\tskip: function(amount) {\n\t\tthis.offset += amount;\n\t},\n\tbranch: function(offset, length) {\n\t\tlength = typeof length === 'number' ? length : this.endPosition - (this.offset + offset);\n\t\treturn new BufferStream(this.buffer, this.offset + offset, length, this.bigEndian);\n\t}\n};\n\nmodule.exports = BufferStream;\n"]},"metadata":{},"sourceType":"script"}