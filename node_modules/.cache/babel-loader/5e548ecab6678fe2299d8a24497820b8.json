{"ast":null,"code":"'use strict';\n\nvar _typeof = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === 'function' && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n};\n\nvar http = require('http');\n\nvar https = require('https');\n\nvar url = require('url');\n\nvar qs = require('querystring');\n\nvar zlib = require('zlib');\n\nvar util = require('util');\n\nvar phin = function phin(opts, cb) {\n  if (typeof opts !== 'string') {\n    if (!opts.hasOwnProperty('url')) {\n      throw new Error('Missing url option from options for request method.');\n    }\n  }\n\n  var addr = (typeof opts === 'undefined' ? 'undefined' : _typeof(opts)) === 'object' ? url.parse(opts.url) : url.parse(opts);\n  var options = {\n    'hostname': addr.hostname,\n    'port': addr.port || (addr.protocol.toLowerCase() === 'http:' ? 80 : 443),\n    'path': addr.path,\n    'method': 'GET',\n    'headers': {},\n    'auth': addr.auth || null,\n    'parse': 'none',\n    'stream': false\n  };\n\n  if ((typeof opts === 'undefined' ? 'undefined' : _typeof(opts)) === 'object') {\n    options = Object.assign(options, opts);\n  }\n\n  options.port = Number(options.port);\n  if (options.hasOwnProperty('timeout')) delete options.timeout;\n\n  if (options.compressed === true) {\n    options.headers['accept-encoding'] = 'gzip, deflate';\n  }\n\n  if (opts.hasOwnProperty('form')) {\n    if (_typeof(opts.form) !== 'object') {\n      throw new Error('phin \\'form\\' option must be of type Object if present.');\n    }\n\n    var formDataString = qs.stringify(opts.form);\n    options.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n    options.headers['Content-Length'] = Buffer.byteLength(formDataString);\n    opts.data = formDataString;\n  }\n\n  var req = void 0;\n\n  var resHandler = function resHandler(res) {\n    var stream = res;\n\n    if (options.compressed === true) {\n      if (res.headers['content-encoding'] === 'gzip') {\n        stream = res.pipe(zlib.createGunzip());\n      } else if (res.headers['content-encoding'] === 'deflate') {\n        stream = res.pipe(zlib.createInflate());\n      }\n    }\n\n    if (options.stream === true) {\n      res.stream = stream;\n      if (cb) cb(null, res);\n    } else {\n      res.body = new Buffer([]);\n      stream.on('data', function (chunk) {\n        res.body = Buffer.concat([res.body, chunk]);\n      });\n      stream.on('end', function () {\n        if (cb) {\n          if (options.parse === 'json') {\n            try {\n              res.body = JSON.parse(res.body.toString());\n            } catch (err) {\n              cb('Invalid JSON received.', res);\n              return;\n            }\n          }\n\n          cb(null, res);\n        }\n      });\n    }\n  };\n\n  switch (addr.protocol.toLowerCase()) {\n    case 'http:':\n      req = http.request(options, resHandler);\n      break;\n\n    case 'https:':\n      req = https.request(options, resHandler);\n      break;\n\n    default:\n      if (cb) cb(new Error('Invalid / unknown URL protocol. Expected HTTP or HTTPS.'), null);\n      return;\n  }\n\n  if (typeof opts.timeout === 'number') {\n    req.setTimeout(opts.timeout, function () {\n      req.abort();\n      if (cb) cb(new Error('Timeout has been reached.'), null);\n      cb = null;\n    });\n  }\n\n  req.on('error', function (err) {\n    if (cb) cb(err, null);\n  });\n\n  if (opts.hasOwnProperty('data')) {\n    var postData = opts.data;\n\n    if (!(opts.data instanceof Buffer) && _typeof(opts.data) === 'object') {\n      var contentType = options.headers['content-type'] || options.headers['Content-Type'];\n\n      if (contentType === 'application/x-www-form-urlencoded') {\n        postData = qs.stringify(opts.data);\n      } else {\n        try {\n          postData = JSON.stringify(opts.data);\n        } catch (err) {\n          if (cb) cb(new Error('Couldn\\'t stringify object. (Likely due to a circular reference.)'), null);\n        }\n      }\n    }\n\n    req.write(postData);\n  }\n\n  req.end();\n};\n\nphin.promisified = function (opts, http) {\n  return new Promise(function (resolve, reject) {\n    phin(opts, function (err, res) {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(res);\n      }\n    }, http);\n  });\n};\n\nif (util.promisify) {\n  phin[util.promisify.custom] = phin.promisified;\n}\n\nmodule.exports = phin;","map":{"version":3,"sources":["/Users/zakstratton/Documents/logo-processor/node_modules/phin/lib/phin.compiled.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","http","require","https","url","qs","zlib","util","phin","opts","cb","hasOwnProperty","Error","addr","parse","options","hostname","port","protocol","toLowerCase","path","auth","Object","assign","Number","timeout","compressed","headers","form","formDataString","stringify","Buffer","byteLength","data","req","resHandler","res","stream","pipe","createGunzip","createInflate","body","on","chunk","concat","JSON","toString","err","request","setTimeout","abort","postData","contentType","write","end","promisified","Promise","resolve","reject","promisify","custom","module","exports"],"mappings":"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","sourcesContent":["'use strict';var _typeof=typeof Symbol==='function'&&typeof Symbol.iterator==='symbol'?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==='function'&&obj.constructor===Symbol&&obj!==Symbol.prototype?'symbol':typeof obj};var http=require('http');var https=require('https');var url=require('url');var qs=require('querystring');var zlib=require('zlib');var util=require('util');var phin=function phin(opts,cb){if(typeof opts!=='string'){if(!opts.hasOwnProperty('url')){throw new Error('Missing url option from options for request method.')}}var addr=(typeof opts==='undefined'?'undefined':_typeof(opts))==='object'?url.parse(opts.url):url.parse(opts);var options={'hostname':addr.hostname,'port':addr.port||(addr.protocol.toLowerCase()==='http:'?80:443),'path':addr.path,'method':'GET','headers':{},'auth':addr.auth||null,'parse':'none','stream':false};if((typeof opts==='undefined'?'undefined':_typeof(opts))==='object'){options=Object.assign(options,opts)}options.port=Number(options.port);if(options.hasOwnProperty('timeout'))delete options.timeout;if(options.compressed===true){options.headers['accept-encoding']='gzip, deflate'}if(opts.hasOwnProperty('form')){if(_typeof(opts.form)!=='object'){throw new Error('phin \\'form\\' option must be of type Object if present.')}var formDataString=qs.stringify(opts.form);options.headers['Content-Type']='application/x-www-form-urlencoded';options.headers['Content-Length']=Buffer.byteLength(formDataString);opts.data=formDataString}var req=void 0;var resHandler=function resHandler(res){var stream=res;if(options.compressed===true){if(res.headers['content-encoding']==='gzip'){stream=res.pipe(zlib.createGunzip())}else if(res.headers['content-encoding']==='deflate'){stream=res.pipe(zlib.createInflate())}}if(options.stream===true){res.stream=stream;if(cb)cb(null,res)}else{res.body=new Buffer([]);stream.on('data',function(chunk){res.body=Buffer.concat([res.body,chunk])});stream.on('end',function(){if(cb){if(options.parse==='json'){try{res.body=JSON.parse(res.body.toString())}catch(err){cb('Invalid JSON received.',res);return}}cb(null,res)}})}};switch(addr.protocol.toLowerCase()){case'http:':req=http.request(options,resHandler);break;case'https:':req=https.request(options,resHandler);break;default:if(cb)cb(new Error('Invalid / unknown URL protocol. Expected HTTP or HTTPS.'),null);return;}if(typeof opts.timeout==='number'){req.setTimeout(opts.timeout,function(){req.abort();if(cb)cb(new Error('Timeout has been reached.'),null);cb=null})}req.on('error',function(err){if(cb)cb(err,null)});if(opts.hasOwnProperty('data')){var postData=opts.data;if(!(opts.data instanceof Buffer)&&_typeof(opts.data)==='object'){var contentType=options.headers['content-type']||options.headers['Content-Type'];if(contentType==='application/x-www-form-urlencoded'){postData=qs.stringify(opts.data)}else{try{postData=JSON.stringify(opts.data)}catch(err){if(cb)cb(new Error('Couldn\\'t stringify object. (Likely due to a circular reference.)'),null)}}}req.write(postData)}req.end()};phin.promisified=function(opts,http){return new Promise(function(resolve,reject){phin(opts,function(err,res){if(err){reject(err)}else{resolve(res)}},http)})};if(util.promisify){phin[util.promisify.custom]=phin.promisified}module.exports=phin;\n"]},"metadata":{},"sourceType":"script"}