{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _omggif = _interopRequireDefault(require(\"omggif\"));\n\nvar MIME_TYPE = 'image/gif';\n\nvar _default = function _default() {\n  return {\n    mime: (0, _defineProperty2[\"default\"])({}, MIME_TYPE, ['gif']),\n    constants: {\n      MIME_GIF: MIME_TYPE\n    },\n    decoders: (0, _defineProperty2[\"default\"])({}, MIME_TYPE, function (data) {\n      var gifObj = new _omggif[\"default\"].GifReader(data);\n      var gifData = Buffer.alloc(gifObj.width * gifObj.height * 4);\n      gifObj.decodeAndBlitFrameRGBA(0, gifData);\n      return {\n        data: gifData,\n        width: gifObj.width,\n        height: gifObj.height\n      };\n    })\n  };\n};\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["../src/index.js"],"names":["MIME_TYPE","mime","constants","MIME_GIF","decoders","gifObj","GIF","gifData","Buffer","data","width","height"],"mappings":";;;;;;;;;;;AAAA,IAAA,OAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAAA;;AAEA,IAAMA,SAAS,GAAf,WAAA;;eAEe,SAAA,QAAA,GAAA;AAAA,SAAO;AACpBC,IAAAA,IAAI,EAAA,CAAA,GAAA,gBAAA,CAAA,SAAA,CAAA,EAAA,EAAA,EAAA,SAAA,EAAiB,CADD,KACC,CAAjB,CADgB;AAGpBC,IAAAA,SAAS,EAAE;AACTC,MAAAA,QAAQ,EAAEH;AADD,KAHS;AAOpBI,IAAAA,QAAQ,EAAA,CAAA,GAAA,gBAAA,CAAA,SAAA,CAAA,EAAA,EAAA,EAAA,SAAA,EACO,UAAA,IAAA,EAAQ;AACnB,UAAMC,MAAM,GAAG,IAAIC,OAAAA,CAAAA,SAAAA,CAAAA,CAAJ,SAAA,CAAf,IAAe,CAAf;AACA,UAAMC,OAAO,GAAGC,MAAM,CAANA,KAAAA,CAAaH,MAAM,CAANA,KAAAA,GAAeA,MAAM,CAArBA,MAAAA,GAA7B,CAAgBG,CAAhB;AAEAH,MAAAA,MAAM,CAANA,sBAAAA,CAAAA,CAAAA,EAAAA,OAAAA;AAEA,aAAO;AACLI,QAAAA,IAAI,EADC,OAAA;AAELC,QAAAA,KAAK,EAAEL,MAAM,CAFR,KAAA;AAGLM,QAAAA,MAAM,EAAEN,MAAM,CAACM;AAHV,OAAP;AAPI,KAAA;AAPY,GAAP","sourcesContent":["import GIF from 'omggif';\n\nconst MIME_TYPE = 'image/gif';\n\nexport default () => ({\n  mime: { [MIME_TYPE]: ['gif'] },\n\n  constants: {\n    MIME_GIF: MIME_TYPE\n  },\n\n  decoders: {\n    [MIME_TYPE]: data => {\n      const gifObj = new GIF.GifReader(data);\n      const gifData = Buffer.alloc(gifObj.width * gifObj.height * 4);\n\n      gifObj.decodeAndBlitFrameRGBA(0, gifData);\n\n      return {\n        data: gifData,\n        width: gifObj.width,\n        height: gifObj.height\n      };\n    }\n  }\n});\n"]},"metadata":{},"sourceType":"script"}