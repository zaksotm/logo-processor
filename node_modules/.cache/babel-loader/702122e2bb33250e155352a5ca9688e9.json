{"ast":null,"code":"import _toConsumableArray from\"/Users/zakstratton/Documents/logo-processor/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _assertThisInitialized from\"/Users/zakstratton/Documents/logo-processor/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"/Users/zakstratton/Documents/logo-processor/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/zakstratton/Documents/logo-processor/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/zakstratton/Documents/logo-processor/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/zakstratton/Documents/logo-processor/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/zakstratton/Documents/logo-processor/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import ReactDOM from'react-dom';import'./style/index.css';//import './style/_buttons.scss';\nimport ImageUploader from'react-images-upload';import Jimp from'jimp/es';var jimp=require('jimp');//Three global color data structures, one a map of objects, one an array,\n//and one a 2D array\n//TODO: Downscale to remove map of objects, unneeded\nvar colors={black:'#000000',onyx:'#333538',charcoal:'#5f6468',concrete:'#97a0a7',quicksilver:'#e4e5e6',bleach:'#ffffff',rich_brown:'#372820',mushroom:'#716257',sand:'#bab3a0',natural:'#f9f4ec',navy:'#081e2c',ultramarine:'#29217d',lagoon:'#003e66',cerulean:'#0169ca',cornflower:'#529afc',cyan:'#009ff1',peacock:'#01aec9',aruba:'#9dfbe7',lake:'#6ac4dd',seafoam:'#4ca696',reef:'#00947d',teal:'#007171',pine:'#2b4423',kelly:'#21772f',jade:'#14b25a',turf:'#60933b',lime:'#a0ce3e',goldenrod:'#d5d03a',yellow:'#fff71b',sunflower:'#ffc938',carmel:'#d8a15e',clementine:'#ff9a23',living_coral:'#fb686d',persimmon:'#fd5130',red_orange:'#db1d3c',red:'#c50f2d',burnt_orange:'#a84c28',rust:'#763742',maroon:'#581c32',deep_pink:'#c40876',hibiscus:'#de4b9b',blush:'#fdaeca',peach:'#f7bfab',lavender:'#a08dd6',iris:'#77479f',purple:'#5d1e5c',royal_purple:'#401e72',moose:'#653c2c',violet:'#6753b2',green_apple:'#76c727',carrot:'#fd673e',lapis:'#3c2f8f',parrot:'#2fd078',french_blue:'#638ee4'};//TODO: Move initialization of arrays to seperate function\nvar colorsFreq=new Array(54);var colorsArray=new Array(54);//Initialize colorsArray\n//load only hex values of colors into an array\nfor(var i=0;i<colorsArray.length;i++){colorsArray[i]=Object.values(colors)[i];}//make colorsFreq into a 2D array\nfor(var i=0;i<colorsFreq.length;i++){colorsFreq[i]=new Array(2);}//Initialize colorsFreq\n//copy array into new 2d array, starting with 0 for all frequencies\nfor(var i=0;i<colorsFreq.length;i++){colorsFreq[i][0]=colorsArray[i];colorsFreq[i][1]=0;}var nearestColor=require('nearest-color').from(colors);//initialize the default image\nvar src=require(\"./test2.jpg\");//janky way around CORS policy for getting from dropbox link, pass through cors-anywhere server\n//var dropboxURL = \"0\"\n//var imgFinal = (\"https://cors-anywhere.herokuapp.com/\" + dropboxURL.slice(0, -1) + \"1\");\n//-------------------------------------------------------------\n//Main classes for displaying the output image array\n//-------------------------------------------------------------\nvar DisplayLogoImg=/*#__PURE__*/function(_React$Component){_inherits(DisplayLogoImg,_React$Component);function DisplayLogoImg(){_classCallCheck(this,DisplayLogoImg);return _possibleConstructorReturn(this,_getPrototypeOf(DisplayLogoImg).apply(this,arguments));}_createClass(DisplayLogoImg,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"workDisplay\"},React.createElement(\"div\",{width:\"300\"},\"Source\",React.createElement(\"img\",{className:\"workImage\",src:this.props.output[0],alt:\"Source\"})),React.createElement(\"div\",null,\"Scale : Color Correction\",React.createElement(\"img\",{className:\"workImage\",src:this.props.output[1],alt:\"Result #1\"})),React.createElement(\"div\",null,\"Scale : Greyscale : Color Correction\",React.createElement(\"img\",{className:\"workImage\",src:this.props.output[2],alt:\"Result #2\"})),React.createElement(\"div\",null,\"Scale : Posterize : Color Correction\",React.createElement(\"img\",{className:\"workImage\",src:this.props.output[3],alt:\"Result #3\"}),React.createElement(\"img\",{className:\"workImage\",src:this.props.output[4],alt:\"Result #4\"}),React.createElement(\"img\",{className:\"workImage\",src:this.props.output[5],alt:\"Result #5\"}),React.createElement(\"img\",{className:\"workImage\",src:this.props.output[6],alt:\"Result #6\"})),React.createElement(\"div\",null,\"Scale : Color Correction (Reduction)\",React.createElement(\"img\",{className:\"workImage\",src:this.props.output[7],alt:\"Result #7\"}),React.createElement(\"img\",{className:\"workImage\",src:this.props.output[8],alt:\"Result #8\"}),React.createElement(\"img\",{className:\"workImage\",src:this.props.output[9],alt:\"Result #9\"}),React.createElement(\"img\",{className:\"workImage\",src:this.props.output[10],alt:\"Result #10\"})),React.createElement(\"div\",null,\"Scale : Posterize : Color Correction (Reduction)\",React.createElement(\"img\",{className:\"workImage\",src:this.props.output[11],alt:\"Result #11\"}),React.createElement(\"img\",{className:\"workImage\",src:this.props.output[12],alt:\"Result #12\"}),React.createElement(\"img\",{className:\"workImage\",src:this.props.output[13],alt:\"Result #13\"}),React.createElement(\"img\",{className:\"workImage\",src:this.props.output[14],alt:\"Result #14\"})));}}]);return DisplayLogoImg;}(React.Component);//-------------------------------------------------------------\n//Custom classes for each button, passes state up\n//TODO:   Merge all of one type into a single class? [buttons, forms, etc]\n//        Transfer classes into seperate file and import it\n//-------------------------------------------------------------\nvar Linkform=/*#__PURE__*/function(_React$Component2){_inherits(Linkform,_React$Component2);function Linkform(){_classCallCheck(this,Linkform);return _possibleConstructorReturn(this,_getPrototypeOf(Linkform).apply(this,arguments));}_createClass(Linkform,[{key:\"render\",value:function render(){return React.createElement(\"form\",null,React.createElement(\"label\",null,\"Dropbox Link:\",React.createElement(\"input\",{type:\"text\",onChange:this.props.onChange})));}}]);return Linkform;}(React.Component);var ScaleForm=/*#__PURE__*/function(_React$Component3){_inherits(ScaleForm,_React$Component3);function ScaleForm(){_classCallCheck(this,ScaleForm);return _possibleConstructorReturn(this,_getPrototypeOf(ScaleForm).apply(this,arguments));}_createClass(ScaleForm,[{key:\"render\",value:function render(){return React.createElement(\"form\",null,React.createElement(\"label\",null,\"Resize X:\",React.createElement(\"input\",{type:\"number\",onChange:this.props.onChangeX})),React.createElement(\"label\",null,\"Resize Y:\",React.createElement(\"input\",{type:\"number\",onChange:this.props.onChangeY})));}}]);return ScaleForm;}(React.Component);//TODO: Change hardcoded max images to variable\nvar ProcessButton=/*#__PURE__*/function(_React$Component4){_inherits(ProcessButton,_React$Component4);function ProcessButton(){_classCallCheck(this,ProcessButton);return _possibleConstructorReturn(this,_getPrototypeOf(ProcessButton).apply(this,arguments));}_createClass(ProcessButton,[{key:\"render\",value:function render(){var _this=this;return React.createElement(\"div\",null,React.createElement(\"button\",{onClick:function onClick(){return _this.props.onClick();}},\"Process Logo\"),\"Loading \",this.props.imagesLoaded,\"/15 images\");}}]);return ProcessButton;}(React.Component);var SubmitButton=/*#__PURE__*/function(_React$Component5){_inherits(SubmitButton,_React$Component5);function SubmitButton(){_classCallCheck(this,SubmitButton);return _possibleConstructorReturn(this,_getPrototypeOf(SubmitButton).apply(this,arguments));}_createClass(SubmitButton,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"button\",{onClick:function onClick(){return _this2.props.onClick();}},\"Submit Link\");}}]);return SubmitButton;}(React.Component);var DownloadButton=/*#__PURE__*/function(_React$Component6){_inherits(DownloadButton,_React$Component6);function DownloadButton(){_classCallCheck(this,DownloadButton);return _possibleConstructorReturn(this,_getPrototypeOf(DownloadButton).apply(this,arguments));}_createClass(DownloadButton,[{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"button\",{onClick:function onClick(){return _this3.props.onClick();}},\"Download BMP\");}}]);return DownloadButton;}(React.Component);var ConvertButton=/*#__PURE__*/function(_React$Component7){_inherits(ConvertButton,_React$Component7);function ConvertButton(){_classCallCheck(this,ConvertButton);return _possibleConstructorReturn(this,_getPrototypeOf(ConvertButton).apply(this,arguments));}_createClass(ConvertButton,[{key:\"render\",value:function render(){var _this4=this;return React.createElement(\"button\",{onClick:function onClick(){return _this4.props.onClick();}},\"Debug v2\");}}]);return ConvertButton;}(React.Component);//-------------------------------------------------------------\n//Main editor app class, contains most info in state\n//-------------------------------------------------------------\nvar Editor=/*#__PURE__*/function(_React$Component8){_inherits(Editor,_React$Component8);function Editor(props){var _this5;_classCallCheck(this,Editor);_this5=_possibleConstructorReturn(this,_getPrototypeOf(Editor).call(this,props));_this5.handleProcessButtonClick=function(i){//Format: posterize[bool], posterize value, scale[bool], scaleX, scaleY, greyscale[bool], numColors\n//TODO: format better, into a function or something\n//Scale : Color Correction\n_this5.jimpLogoCreation(_this5.state.output[0],false,0,true,_this5.state.scaleX,_this5.state.scaleY);//Scale : Greyscale : Color Correction\n_this5.jimpLogoCreation(_this5.state.output[0],false,0,true,_this5.state.scaleX,_this5.state.scaleY,true);//Scale : Posterize : Color Correction\n_this5.jimpLogoCreation(_this5.state.output[0],true,7,true,_this5.state.scaleX,_this5.state.scaleY);_this5.jimpLogoCreation(_this5.state.output[0],true,5,true,_this5.state.scaleX,_this5.state.scaleY);_this5.jimpLogoCreation(_this5.state.output[0],true,3,true,_this5.state.scaleX,_this5.state.scaleY);_this5.jimpLogoCreation(_this5.state.output[0],true,2,true,_this5.state.scaleX,_this5.state.scaleY);//Scale : Color Correction (Reduction)\n_this5.jimpLogoCreation(_this5.state.output[0],false,0,true,_this5.state.scaleX,_this5.state.scaleY,false,5);_this5.jimpLogoCreation(_this5.state.output[0],false,0,true,_this5.state.scaleX,_this5.state.scaleY,false,4);_this5.jimpLogoCreation(_this5.state.output[0],false,0,true,_this5.state.scaleX,_this5.state.scaleY,false,3);_this5.jimpLogoCreation(_this5.state.output[0],false,0,true,_this5.state.scaleX,_this5.state.scaleY,false,2);//Scale : Posterize : Color Correction (Reduction)\n_this5.jimpLogoCreation(_this5.state.output[0],true,7,true,_this5.state.scaleX,_this5.state.scaleY,false,5);_this5.jimpLogoCreation(_this5.state.output[0],true,5,true,_this5.state.scaleX,_this5.state.scaleY,false,4);_this5.jimpLogoCreation(_this5.state.output[0],true,3,true,_this5.state.scaleX,_this5.state.scaleY,false,3);_this5.jimpLogoCreation(_this5.state.output[0],true,2,true,_this5.state.scaleX,_this5.state.scaleY,false,2);};_this5.handleConvertButtonClick=function(i){/*\n    for (let [name, value] of Object.entries(colors)) {\n      console.log(`${name}: ${value}`);\n    }\n    */ //NOTE - THIS RETURNS THE VALUE, NO NEED FOR .VALUE\nconsole.log(colorsArray);console.log(colorsFreq);};_this5.handleSubmitButtonClick=function(i){console.log(\"Submit Button Clicked\");_this5.setState({output:[_this5.state.dropboxLink]});};_this5.handleDownloadButtonClick=function(i){console.log(\"Download Button Clicked\");};_this5.handleLinkChange=function(i){_this5.setState({dropboxLink:\"https://cors-anywhere.herokuapp.com/\"+i.target.value.slice(0,-1)+\"1\"});};_this5.state={//value that holds the path to default image, then the base64 data of render\n//base64 used by Jimp, since it is a web-based app. Local files caused issues.\npicture:src,//Array of output pictures\noutput:[],dropboxLink:\"\",scaleX:150,scaleY:150,imagesLoaded:0};_this5.myRef=React.createRef();//TODO: Bind these functions in their declaration, similar to handleX functions\n_this5.onDrop=_this5.onDrop.bind(_assertThisInitialized(_this5));_this5.jimpScale=_this5.jimpScale.bind(_assertThisInitialized(_this5));_this5.jimpResize=_this5.jimpResize.bind(_assertThisInitialized(_this5));_this5.jimpTest=_this5.jimpTest.bind(_assertThisInitialized(_this5));_this5.onScaleFormChangeX=_this5.onScaleFormChangeX.bind(_assertThisInitialized(_this5));_this5.onScaleFormChangeY=_this5.onScaleFormChangeY.bind(_assertThisInitialized(_this5));return _this5;}_createClass(Editor,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevState.output!==this.state.output){//console.log(\"output state has changed: \" + this.state.output);\n}}//-------------------------------------------------------------\n//Functions to handle events when different buttons are clicked\n//or values are changed\n//-------------------------------------------------------------\n},{key:\"onDrop\",//picture is an array passed from image uploader\n//pull most recently uploaded picture from current session\n//TODO: reformat these functions into handleDrop and handleLinkChange\nvalue:function onDrop(picture){//TODO: Insert function calls directly here to auto work on image\nvar localImg=URL.createObjectURL(picture[picture.length-1]);//Set state for display\nthis.setState({output:[URL.createObjectURL(picture[picture.length-1])]});}},{key:\"onScaleFormChangeX\",value:function onScaleFormChangeX(event){//form takes in a string, need to parse into an Int for use in Jimp\nthis.setState({scaleX:parseInt(event.target.value,10)});}},{key:\"onScaleFormChangeY\",value:function onScaleFormChangeY(event){//form takes in a string, need to parse into an Int for use in Jimp\nthis.setState({scaleY:parseInt(event.target.value,10)});}//-------------------------------------------------------------\n//render functions for each visible element\n//TODO: combine everything in the same div into one render function\n//like buttons for control panel and such\n//-------------------------------------------------------------\n},{key:\"renderLogoImage\",value:function renderLogoImage(){return React.createElement(\"div\",null,React.createElement(DisplayLogoImg,{picture:this.state.picture,output:this.state.output}));}},{key:\"renderProcessButton\",value:function renderProcessButton(i){return React.createElement(ProcessButton,{onClick:this.handleProcessButtonClick,imagesLoaded:this.state.imagesLoaded});}},{key:\"renderSubmitButton\",value:function renderSubmitButton(i){return React.createElement(SubmitButton,{onClick:this.handleSubmitButtonClick});}},{key:\"renderDownloadButton\",value:function renderDownloadButton(i){return React.createElement(DownloadButton,{onClick:this.handleDownloadButtonClick});}},{key:\"renderConvertButton\",value:function renderConvertButton(i){return React.createElement(ConvertButton,{onClick:this.handleConvertButtonClick});}},{key:\"renderScaleForm\",value:function renderScaleForm(i){return React.createElement(ScaleForm,{onChangeX:this.onScaleFormChangeX,onChangeY:this.onScaleFormChangeY});}},{key:\"renderImageUploader\",value:function renderImageUploader(){return React.createElement(ImageUploader,{withIcon:true,buttonText:\"Choose image\",label:\"Max file size: 5mb, Filetypes accepted: .bmp | .jpg | .png\",fileContainerStyle:{backgroundColor:\"grey\"},singleImage:true,onChange:this.onDrop,imgExtension:['.jpg','.gif','.png','.bmp'],maxFileSize:5242880});}},{key:\"renderLinkForm\",value:function renderLinkForm(){return React.createElement(Linkform,{onChange:this.handleLinkChange});}//-------------------------------------------------------------\n//Functions to do the actual editing on the image\n//-------------------------------------------------------------\n},{key:\"jimpConvert\",value:function jimpConvert(path,x,y){jimp.read(path,function(err,image){image.getBase64(Jimp.AUTO,function(err,data){this.setState({picture:data.replace(\"image/png\",\"image/bmp\")});}.bind(this));}.bind(this));}},{key:\"jimpLogoCreation\",value:function jimpLogoCreation(path,posBool,pos,scale,scaleX,scaleY,grayscale,numColors){jimp.read(path,function(err,image){//create local array of colors and populate it from global\n//TODO: Check if need to unallocate memory here\nvar localColors=new Array(54);if(localColors[0]===undefined){for(var i=0;i<colorsArray.length;i++){localColors[i]=colorsArray[i];}}if(scale)image.resize(scaleX,scaleY);if(posBool)image.posterize(pos);if(grayscale)image.greyscale();if(numColors!==undefined){localColors.length=numColors;//update colorsArray with new color order,\n//important for removing correct colors when downsizing\nfor(var i=0;i<numColors;i++){localColors[i]=colorsFreq[i][0];}console.log(\"localColors Updated: \"+localColors);}//initialize getNewColor with new colorsArray\nvar getNewColor=nearestColor.from(localColors);//Function to replace colors with our palette\nimage.scan(0,0,image.bitmap.width,image.bitmap.height,function(x,y,idx){//First log RGB value of current pixel, toString(16) converts\n//into hex form, padStart for 1 digit values\n//var position = [x, y];\n//red\nvar red=this.bitmap.data[idx];var redHex=red.toString(16).padStart(2,\"0\");//green\nvar green=this.bitmap.data[idx+1];var greenHex=green.toString(16).padStart(2,\"0\");//blue\nvar blue=this.bitmap.data[idx+2];var blueHex=blue.toString(16).padStart(2,\"0\");//Run nearestColor on this pixel\nvar close=getNewColor('#'+redHex+greenHex+blueHex);//future timesave: Don't run this every time, only log frequency\n//the first time you parse the image\nfor(var i=0;i<colorsFreq.length;i++){if(colorsFreq[i][0]===close)colorsFreq[i][1]++;}var closeRed=parseInt(close.substr(1,2),16);var closeGreen=parseInt(close.substr(3,2),16);var closeBlue=parseInt(close.substr(5,2),16);//Change pixel colors into nearest from our palette\n//red\nthis.bitmap.data[idx]=closeRed;//green\nthis.bitmap.data[idx+1]=closeGreen;//blue\nthis.bitmap.data[idx+2]=closeBlue;});//sort colorsFreq by frequency\ncolorsFreq.sort(sortFunction);function sortFunction(a,b){if(a[1]===b[1]){return 0;}else{return a[1]>b[1]?-1:1;}}//add result to output array\nimage.getBase64(Jimp.MIME_BMP,function(err,data){this.setState(function(prevState){return{output:[].concat(_toConsumableArray(prevState.output),[data]),imagesLoaded:prevState.imagesLoaded+1};});console.log(\"image added \"+this.state.imagesLoaded);}.bind(this));//apply edited image to picture state\n/*\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState({\n          picture: data,\n        });\n      }.bind(this));\n      */}.bind(this));}},{key:\"jimpScale\",value:function jimpScale(path,x,y){jimp.read(path,function(err,image){//image.scaleToFit(x,y);\nimage.getBase64(Jimp.MIME_BMP,function(err,data){this.setState(function(prevState){return{output:[].concat(_toConsumableArray(prevState.output),[data])};});console.log(\"image scaled\");}.bind(this));}.bind(this));}},{key:\"jimpResize\",value:function jimpResize(path,x,y){jimp.read(path,function(err,image){image.resize(x,y);image.getBase64(Jimp.MIME_BMP,function(err,data){this.setState({picture:data});}.bind(this));}.bind(this));}},{key:\"jimpResizeBMP\",value:function jimpResizeBMP(path,x,y){jimp.read(path,function(err,image){image.resize(x,y);image.getBase64(Jimp.MIME_BMP,function(err,data){this.setState({bmpPicture:data});}.bind(this));}.bind(this));}//map logo onto bitmap according to preset\n//TODO: adjust for each preset\n/*\n  jimpMap(path1, path2){\n    jimp.read(this.state.bmpPicture, function(err, bmpImage) {\n      jimp.read(this.state.picture, function(err, logo) {\n        bmpImage.composite(logo, 20, 20);\n        bmpImage.getBase64(Jimp.AUTO, function(err, data){\n          this.setState({\n            bmpPicture: data,\n          });\n        }.bind(this));\n      }.bind(this));\n    }.bind(this));\n  }\n  */},{key:\"jimpTest\",value:function jimpTest(path){var local;jimp.read(path,function(err,image){this.local=image;}.bind(this));return local;}},{key:\"jimpPosterize\",value:function jimpPosterize(path,x){jimp.read(path,function(err,image){image.posterize(x);image.getBase64(Jimp.MIME_BMP,function(err,data){this.setState({picture:data});}.bind(this));}.bind(this));}//-------------------------------------------------------------\n//Final render of the application\n//-------------------------------------------------------------\n},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"workDisplay\"},this.renderLogoImage()),React.createElement(\"div\",{className:\"panelDisplay\"},this.renderLinkForm(),this.renderSubmitButton(),this.renderImageUploader(),this.renderScaleForm(),this.renderProcessButton()));}}]);return Editor;}(React.Component);//-------------------------------------------------------------\n//Overreaching App class, not nessecary at the moment but may be used later\n//-------------------------------------------------------------\nvar App=/*#__PURE__*/function(_React$Component9){_inherits(App,_React$Component9);function App(){_classCallCheck(this,App);return _possibleConstructorReturn(this,_getPrototypeOf(App).apply(this,arguments));}_createClass(App,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"app\"},React.createElement(\"div\",{className:\"app-img\"},React.createElement(Editor,null)),React.createElement(\"div\",{className:\"img-fields\"},React.createElement(\"div\",null)));}}]);return App;}(React.Component);//-------------------------------------------------------------\n//Final DOM render, required by React\n//-------------------------------------------------------------\nReactDOM.render(React.createElement(App,null),document.getElementById('root'));","map":{"version":3,"sources":["/Users/zakstratton/Documents/logo-processor/src/index.js"],"names":["React","ReactDOM","ImageUploader","Jimp","jimp","require","colors","black","onyx","charcoal","concrete","quicksilver","bleach","rich_brown","mushroom","sand","natural","navy","ultramarine","lagoon","cerulean","cornflower","cyan","peacock","aruba","lake","seafoam","reef","teal","pine","kelly","jade","turf","lime","goldenrod","yellow","sunflower","carmel","clementine","living_coral","persimmon","red_orange","red","burnt_orange","rust","maroon","deep_pink","hibiscus","blush","peach","lavender","iris","purple","royal_purple","moose","violet","green_apple","carrot","lapis","parrot","french_blue","colorsFreq","Array","colorsArray","i","length","Object","values","nearestColor","from","src","DisplayLogoImg","props","output","Component","Linkform","onChange","ScaleForm","onChangeX","onChangeY","ProcessButton","onClick","imagesLoaded","SubmitButton","DownloadButton","ConvertButton","Editor","handleProcessButtonClick","jimpLogoCreation","state","scaleX","scaleY","handleConvertButtonClick","console","log","handleSubmitButtonClick","setState","dropboxLink","handleDownloadButtonClick","handleLinkChange","target","value","slice","picture","myRef","createRef","onDrop","bind","jimpScale","jimpResize","jimpTest","onScaleFormChangeX","onScaleFormChangeY","prevProps","prevState","localImg","URL","createObjectURL","event","parseInt","backgroundColor","path","x","y","read","err","image","getBase64","AUTO","data","replace","posBool","pos","scale","grayscale","numColors","localColors","undefined","resize","posterize","greyscale","getNewColor","scan","bitmap","width","height","idx","redHex","toString","padStart","green","greenHex","blue","blueHex","close","closeRed","substr","closeGreen","closeBlue","sort","sortFunction","a","b","MIME_BMP","bmpPicture","local","renderLogoImage","renderLinkForm","renderSubmitButton","renderImageUploader","renderScaleForm","renderProcessButton","App","render","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.css';\n//import './style/_buttons.scss';\nimport ImageUploader from 'react-images-upload';\nimport Jimp from 'jimp/es';\n\nvar jimp = require('jimp');\n\n\n//Three global color data structures, one a map of objects, one an array,\n//and one a 2D array\n//TODO: Downscale to remove map of objects, unneeded\nvar colors = {\n  black: '#000000',\n  onyx: '#333538',\n  charcoal: '#5f6468',\n  concrete: '#97a0a7',\n  quicksilver: '#e4e5e6',\n  bleach: '#ffffff',\n  rich_brown: '#372820',\n  mushroom: '#716257',\n  sand: '#bab3a0',\n  natural: '#f9f4ec',\n  navy: '#081e2c',\n  ultramarine: '#29217d',\n  lagoon: '#003e66',\n  cerulean: '#0169ca',\n  cornflower: '#529afc',\n  cyan: '#009ff1',\n  peacock: '#01aec9',\n  aruba: '#9dfbe7',\n  lake: '#6ac4dd',\n  seafoam: '#4ca696',\n  reef: '#00947d',\n  teal: '#007171',\n  pine: '#2b4423',\n  kelly: '#21772f',\n  jade: '#14b25a',\n  turf: '#60933b',\n  lime: '#a0ce3e',\n  goldenrod: '#d5d03a',\n  yellow: '#fff71b',\n  sunflower: '#ffc938',\n  carmel: '#d8a15e',\n  clementine: '#ff9a23',\n  living_coral: '#fb686d',\n  persimmon: '#fd5130',\n  red_orange: '#db1d3c',\n  red: '#c50f2d',\n  burnt_orange: '#a84c28',\n  rust: '#763742',\n  maroon: '#581c32',\n  deep_pink: '#c40876',\n  hibiscus: '#de4b9b',\n  blush: '#fdaeca',\n  peach: '#f7bfab',\n  lavender: '#a08dd6',\n  iris: '#77479f',\n  purple: '#5d1e5c',\n  royal_purple: '#401e72',\n  moose: '#653c2c',\n  violet: '#6753b2',\n  green_apple: '#76c727',\n  carrot: '#fd673e',\n  lapis: '#3c2f8f',\n  parrot: '#2fd078',\n  french_blue: '#638ee4',\n};\n\n//TODO: Move initialization of arrays to seperate function\nvar colorsFreq = new Array(54);\nvar colorsArray = new Array(54);\n\n//Initialize colorsArray\n//load only hex values of colors into an array\nfor (var i = 0; i < colorsArray.length; i++){\n  colorsArray[i] = Object.values(colors)[i];\n}\n\n//make colorsFreq into a 2D array\nfor (var i = 0; i < colorsFreq.length; i++){\n  colorsFreq[i] = new Array(2);\n}\n\n//Initialize colorsFreq\n//copy array into new 2d array, starting with 0 for all frequencies\nfor (var i = 0; i < colorsFreq.length; i++){\n  colorsFreq[i][0] = colorsArray[i];\n  colorsFreq[i][1] = 0;\n}\n\nvar nearestColor = require('nearest-color').from(colors);\n\n//initialize the default image\nconst src = require(\"./test2.jpg\");\n//janky way around CORS policy for getting from dropbox link, pass through cors-anywhere server\n//var dropboxURL = \"0\"\n//var imgFinal = (\"https://cors-anywhere.herokuapp.com/\" + dropboxURL.slice(0, -1) + \"1\");\n\n//-------------------------------------------------------------\n//Main classes for displaying the output image array\n//-------------------------------------------------------------\nclass DisplayLogoImg extends React.Component{\n  render(){\n    return(\n      <div className=\"workDisplay\">\n        <div width=\"300\">\n        Source\n          <img className=\"workImage\" src={this.props.output[0]} alt=\"Source\" />\n        </div>\n        <div>\n        Scale : Color Correction\n          <img className=\"workImage\" src={this.props.output[1]} alt=\"Result #1\" />\n        </div>\n        <div>\n        Scale : Greyscale : Color Correction\n          <img className=\"workImage\" src={this.props.output[2]} alt=\"Result #2\" />\n        </div>\n        <div>\n        Scale : Posterize : Color Correction\n          <img className=\"workImage\" src={this.props.output[3]} alt=\"Result #3\" />\n          <img className=\"workImage\" src={this.props.output[4]} alt=\"Result #4\" />\n          <img className=\"workImage\" src={this.props.output[5]} alt=\"Result #5\" />\n          <img className=\"workImage\" src={this.props.output[6]} alt=\"Result #6\" />\n        </div>\n        <div>\n        Scale : Color Correction (Reduction)\n          <img className=\"workImage\" src={this.props.output[7]} alt=\"Result #7\" />\n          <img className=\"workImage\" src={this.props.output[8]} alt=\"Result #8\" />\n          <img className=\"workImage\" src={this.props.output[9]} alt=\"Result #9\" />\n          <img className=\"workImage\" src={this.props.output[10]} alt=\"Result #10\" />\n        </div>\n        <div>\n        Scale : Posterize : Color Correction (Reduction)\n          <img className=\"workImage\" src={this.props.output[11]} alt=\"Result #11\" />\n          <img className=\"workImage\" src={this.props.output[12]} alt=\"Result #12\" />\n          <img className=\"workImage\" src={this.props.output[13]} alt=\"Result #13\" />\n          <img className=\"workImage\" src={this.props.output[14]} alt=\"Result #14\" />\n        </div>\n      </div>\n    )\n  }\n}\n\n//-------------------------------------------------------------\n//Custom classes for each button, passes state up\n//TODO:   Merge all of one type into a single class? [buttons, forms, etc]\n//        Transfer classes into seperate file and import it\n//-------------------------------------------------------------\n\nclass Linkform extends React.Component {\n  render() {\n    return (\n      <form>\n        <label>\n          Dropbox Link:\n          <input type=\"text\" onChange={this.props.onChange}/>\n        </label>\n      </form>\n    );\n  }\n}\n\nclass ScaleForm extends React.Component{\n  render(){\n    return(\n      <form>\n        <label>\n          Resize X:\n          <input type=\"number\" onChange={this.props.onChangeX} />\n        </label>\n        <label>\n          Resize Y:\n          <input type=\"number\" onChange={this.props.onChangeY} />\n        </label>\n      </form>\n    )\n  }\n}\n\n//TODO: Change hardcoded max images to variable\nclass ProcessButton extends React.Component{\n  render(){\n    return(\n      <div>\n        <button onClick={() => this.props.onClick()}>Process Logo</button>\n        Loading {this.props.imagesLoaded}/15 images\n      </div>\n    )\n  }\n}\n\nclass SubmitButton extends React.Component{\n  render(){\n    return(\n      <button onClick={() => this.props.onClick()}>Submit Link</button>\n    )\n  }\n}\n\nclass DownloadButton extends React.Component{\n  render(){\n    return(\n      <button onClick={() => this.props.onClick()}>Download BMP</button>\n    )\n  }\n}\n\nclass ConvertButton extends React.Component{\n  render(){\n    return(\n      <button onClick={() => this.props.onClick()}>Debug v2</button>\n    )\n  }\n}\n\n//-------------------------------------------------------------\n//Main editor app class, contains most info in state\n//-------------------------------------------------------------\nclass Editor extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      //value that holds the path to default image, then the base64 data of render\n      //base64 used by Jimp, since it is a web-based app. Local files caused issues.\n      picture: src,\n      //Array of output pictures\n      output: [],\n      dropboxLink: \"\",\n      scaleX: 150,\n      scaleY: 150,\n      imagesLoaded: 0,\n    };\n    this.myRef = React.createRef();\n    //TODO: Bind these functions in their declaration, similar to handleX functions\n    this.onDrop = this.onDrop.bind(this);\n    this.jimpScale = this.jimpScale.bind(this);\n    this.jimpResize = this.jimpResize.bind(this);\n    this.jimpTest = this.jimpTest.bind(this);\n    this.onScaleFormChangeX = this.onScaleFormChangeX.bind(this);\n    this.onScaleFormChangeY = this.onScaleFormChangeY.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if (prevState.output !== this.state.output){\n      //console.log(\"output state has changed: \" + this.state.output);\n    }\n  }\n\n  //-------------------------------------------------------------\n  //Functions to handle events when different buttons are clicked\n  //or values are changed\n  //-------------------------------------------------------------\n  handleProcessButtonClick = (i) => {\n      //Format: posterize[bool], posterize value, scale[bool], scaleX, scaleY, greyscale[bool], numColors\n      //TODO: format better, into a function or something\n      //Scale : Color Correction\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY);\n      //Scale : Greyscale : Color Correction\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, true);\n      //Scale : Posterize : Color Correction\n      this.jimpLogoCreation(this.state.output[0], true, 7, true, this.state.scaleX, this.state.scaleY);\n      this.jimpLogoCreation(this.state.output[0], true, 5, true, this.state.scaleX, this.state.scaleY);\n      this.jimpLogoCreation(this.state.output[0], true, 3, true, this.state.scaleX, this.state.scaleY);\n      this.jimpLogoCreation(this.state.output[0], true, 2, true, this.state.scaleX, this.state.scaleY);\n      //Scale : Color Correction (Reduction)\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, false, 5);\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, false, 4);\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, false, 3);\n      this.jimpLogoCreation(this.state.output[0], false, 0, true, this.state.scaleX, this.state.scaleY, false, 2);\n      //Scale : Posterize : Color Correction (Reduction)\n      this.jimpLogoCreation(this.state.output[0], true, 7, true, this.state.scaleX, this.state.scaleY, false, 5);\n      this.jimpLogoCreation(this.state.output[0], true, 5, true, this.state.scaleX, this.state.scaleY, false, 4);\n      this.jimpLogoCreation(this.state.output[0], true, 3, true, this.state.scaleX, this.state.scaleY, false, 3);\n      this.jimpLogoCreation(this.state.output[0], true, 2, true, this.state.scaleX, this.state.scaleY, false, 2);\n  }\n\n  handleConvertButtonClick = (i) => {\n    /*\n    for (let [name, value] of Object.entries(colors)) {\n      console.log(`${name}: ${value}`);\n    }\n    */\n    //NOTE - THIS RETURNS THE VALUE, NO NEED FOR .VALUE\n    console.log(colorsArray);\n    console.log(colorsFreq);\n\n  }\n\n  handleSubmitButtonClick = (i) => {\n    console.log(\"Submit Button Clicked\");\n    this.setState({\n      output: [this.state.dropboxLink],\n    });\n  }\n\n  handleDownloadButtonClick = (i) => {\n    console.log(\"Download Button Clicked\");\n  }\n\n  handleLinkChange = (i) => {\n    this.setState({\n      dropboxLink: \"https://cors-anywhere.herokuapp.com/\" + i.target.value.slice(0, -1) + \"1\",\n    });\n  }\n\n  //picture is an array passed from image uploader\n  //pull most recently uploaded picture from current session\n  //TODO: reformat these functions into handleDrop and handleLinkChange\n  onDrop(picture){\n    //TODO: Insert function calls directly here to auto work on image\n    var localImg = URL.createObjectURL(picture[picture.length - 1]);\n    //Set state for display\n    this.setState({\n      output: [URL.createObjectURL(picture[picture.length - 1])],\n    });\n  }\n\n  onScaleFormChangeX(event){\n    //form takes in a string, need to parse into an Int for use in Jimp\n    this.setState({\n      scaleX: parseInt(event.target.value, 10)\n    });\n  }\n\n  onScaleFormChangeY(event){\n    //form takes in a string, need to parse into an Int for use in Jimp\n    this.setState({\n      scaleY: parseInt(event.target.value, 10)\n    });\n  }\n\n  //-------------------------------------------------------------\n  //render functions for each visible element\n  //TODO: combine everything in the same div into one render function\n  //like buttons for control panel and such\n  //-------------------------------------------------------------\n\n  renderLogoImage(){\n    return (\n      <div>\n        <DisplayLogoImg\n          picture={this.state.picture}\n          output={this.state.output}\n        />\n      </div>\n    )\n  }\n\n  renderProcessButton(i){\n    return(\n      <ProcessButton\n        onClick={this.handleProcessButtonClick}\n        imagesLoaded={this.state.imagesLoaded}\n      />\n    )\n  }\n\n  renderSubmitButton(i){\n    return(\n      <SubmitButton\n        onClick={this.handleSubmitButtonClick}\n      />\n    )\n  }\n\n  renderDownloadButton(i){\n    return(\n      <DownloadButton\n        onClick={this.handleDownloadButtonClick}\n      />\n    )\n  }\n\n  renderConvertButton(i){\n    return(\n      <ConvertButton\n        onClick={this.handleConvertButtonClick}\n      />\n    )\n  }\n\n  renderScaleForm(i){\n    return(\n      <ScaleForm\n        onChangeX={this.onScaleFormChangeX}\n        onChangeY={this.onScaleFormChangeY}\n      />\n    )\n  }\n\n  renderImageUploader(){\n    return(\n      <ImageUploader\n        withIcon={true}\n        buttonText='Choose image'\n        label=\"Max file size: 5mb, Filetypes accepted: .bmp | .jpg | .png\"\n        fileContainerStyle={{backgroundColor: \"grey\"}}\n        singleImage={true}\n        onChange={this.onDrop}\n        imgExtension={['.jpg', '.gif', '.png', '.bmp']}\n        maxFileSize={5242880}\n      />\n    )\n  }\n\n  renderLinkForm(){\n    return(\n      <Linkform onChange={this.handleLinkChange}/>\n    )\n  }\n\n\n  //-------------------------------------------------------------\n  //Functions to do the actual editing on the image\n  //-------------------------------------------------------------\n  jimpConvert(path, x, y){\n    jimp.read(path, function(err, image) {\n      image.getBase64(Jimp.AUTO, function(err, data){\n        this.setState({\n          picture: data.replace(\"image/png\", \"image/bmp\"),\n        });\n      }.bind(this));\n    }.bind(this));\n  }\n\n\n  jimpLogoCreation(path, posBool, pos, scale, scaleX, scaleY, grayscale, numColors){\n    jimp.read(path, function(err, image) {\n      //create local array of colors and populate it from global\n      //TODO: Check if need to unallocate memory here\n      var localColors = new Array(54);\n      if (localColors[0] === undefined){\n        for (var i = 0; i < colorsArray.length; i++){\n          localColors[i] = colorsArray[i];\n        }\n      }\n\n      if (scale)\n        image.resize(scaleX, scaleY);\n      if (posBool)\n        image.posterize(pos);\n      if (grayscale)\n        image.greyscale();\n      if (numColors !== undefined){\n        localColors.length = numColors;\n        //update colorsArray with new color order,\n        //important for removing correct colors when downsizing\n        for (var i = 0; i < numColors; i++){\n          localColors[i] = colorsFreq[i][0];\n        }\n        console.log(\"localColors Updated: \" + localColors);\n      }\n\n      //initialize getNewColor with new colorsArray\n      var getNewColor = nearestColor.from(localColors);\n      //Function to replace colors with our palette\n      image.scan(0, 0, image.bitmap.width, image.bitmap.height, function(x, y, idx) {\n        //First log RGB value of current pixel, toString(16) converts\n        //into hex form, padStart for 1 digit values\n        //var position = [x, y];\n        //red\n        var red = this.bitmap.data[idx];\n        var redHex = red.toString(16).padStart(2, \"0\");\n        //green\n        var green = this.bitmap.data[idx + 1];\n        var greenHex = green.toString(16).padStart(2, \"0\");\n        //blue\n        var blue = this.bitmap.data[idx + 2];\n        var blueHex = blue.toString(16).padStart(2, \"0\");\n\n        //Run nearestColor on this pixel\n        var close = getNewColor('#' + redHex + greenHex + blueHex);\n\n        //future timesave: Don't run this every time, only log frequency\n        //the first time you parse the image\n        for (var i = 0; i < colorsFreq.length; i++){\n          if (colorsFreq[i][0] === close)\n            colorsFreq[i][1]++;\n        }\n\n        var closeRed = parseInt(close.substr(1,2), 16);\n        var closeGreen = parseInt(close.substr(3,2), 16);\n        var closeBlue = parseInt(close.substr(5,2), 16);\n\n        //Change pixel colors into nearest from our palette\n        //red\n        this.bitmap.data[idx] = closeRed;\n        //green\n        this.bitmap.data[idx + 1] = closeGreen;\n        //blue\n        this.bitmap.data[idx + 2] = closeBlue;\n      })\n\n      //sort colorsFreq by frequency\n      colorsFreq.sort(sortFunction);\n      function sortFunction(a, b){\n        if (a[1] === b[1]) {\n          return 0;\n        }\n        else {\n          return (a[1] > b[1]) ? -1 : 1;\n        }\n      }\n\n      //add result to output array\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState(prevState => ({\n          output: [...prevState.output, data],\n          imagesLoaded: prevState.imagesLoaded + 1,\n        }))\n        console.log(\"image added \" + this.state.imagesLoaded);\n      }.bind(this));\n\n      //apply edited image to picture state\n      /*\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState({\n          picture: data,\n        });\n      }.bind(this));\n      */\n\n\n    }.bind(this));\n  }\n\n  jimpScale(path, x, y){\n    jimp.read(path, function(err, image) {\n      //image.scaleToFit(x,y);\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState(prevState => ({\n          output: [...prevState.output, data]\n        }))\n        console.log(\"image scaled\");\n      }.bind(this));\n    }.bind(this));\n  }\n\n  jimpResize(path, x, y){\n    jimp.read(path, function(err, image) {\n      image.resize(x,y);\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState({\n          picture: data,\n        });\n      }.bind(this));\n    }.bind(this));\n  }\n\n  jimpResizeBMP(path, x, y){\n    jimp.read(path, function(err, image) {\n      image.resize(x,y);\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState({\n          bmpPicture: data,\n        });\n      }.bind(this));\n    }.bind(this));\n  }\n\n  //map logo onto bitmap according to preset\n  //TODO: adjust for each preset\n\n  /*\n  jimpMap(path1, path2){\n    jimp.read(this.state.bmpPicture, function(err, bmpImage) {\n      jimp.read(this.state.picture, function(err, logo) {\n        bmpImage.composite(logo, 20, 20);\n        bmpImage.getBase64(Jimp.AUTO, function(err, data){\n          this.setState({\n            bmpPicture: data,\n          });\n        }.bind(this));\n      }.bind(this));\n    }.bind(this));\n  }\n  */\n\n  jimpTest(path){\n    var local;\n    jimp.read(path, function(err, image) {\n      this.local = image;\n    }.bind(this));\n    return local;\n  }\n\n  jimpPosterize(path, x){\n    jimp.read(path, function(err, image) {\n      image.posterize(x);\n      image.getBase64(Jimp.MIME_BMP, function(err, data){\n        this.setState({\n          picture: data,\n        });\n      }.bind(this));\n    }.bind(this));\n  }\n\n  //-------------------------------------------------------------\n  //Final render of the application\n  //-------------------------------------------------------------\n  render() {\n    return (\n      <div>\n        <div className=\"workDisplay\">\n          {this.renderLogoImage()}\n        </div>\n        <div className=\"panelDisplay\">\n          {this.renderLinkForm()}\n          {this.renderSubmitButton()}\n          {this.renderImageUploader()}\n          {this.renderScaleForm()}\n          {this.renderProcessButton()}\n        </div>\n      </div>\n    );\n  }\n}\n\n\n//-------------------------------------------------------------\n//Overreaching App class, not nessecary at the moment but may be used later\n//-------------------------------------------------------------\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"app\">\n        <div className=\"app-img\">\n          <Editor />\n        </div>\n        <div className=\"img-fields\">\n          <div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n//-------------------------------------------------------------\n//Final DOM render, required by React\n//-------------------------------------------------------------\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"]},"metadata":{},"sourceType":"module"}